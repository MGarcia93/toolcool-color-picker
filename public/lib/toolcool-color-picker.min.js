(()=>{var Yt=Object.create;var j=Object.defineProperty;var Qt=Object.getOwnPropertyDescriptor;var Wt=Object.getOwnPropertyNames;var Jt=Object.getPrototypeOf,Zt=Object.prototype.hasOwnProperty;var te=(a,d,i)=>d in a?j(a,d,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[d]=i;var ee=(a,d)=>()=>(d||a((d={exports:{}}).exports,d),d.exports);var ie=(a,d,i,n)=>{if(d&&typeof d=="object"||typeof d=="function")for(let r of Wt(d))!Zt.call(a,r)&&r!==i&&j(a,r,{get:()=>d[r],enumerable:!(n=Qt(d,r))||n.enumerable});return a};var O=(a,d,i)=>(i=a!=null?Yt(Jt(a)):{},ie(d||!a||!a.__esModule?j(i,"default",{value:a,enumerable:!0}):i,a));var p=(a,d,i)=>(te(a,typeof d!="symbol"?d+"":d,i),i);var T=ee((ue,P)=>{(function(a){var d=/^\s+/,i=/\s+$/,n=0,r=a.round,h=a.min,f=a.max,_=a.random;function l(t,o){if(t=t||"",o=o||{},t instanceof l)return t;if(!(this instanceof l))return new l(t,o);var e=q(t);this._originalInput=t,this._r=e.r,this._g=e.g,this._b=e.b,this._a=e.a,this._roundA=r(100*this._a)/100,this._format=o.format||e.format,this._gradientType=o.gradientType,this._r<1&&(this._r=r(this._r)),this._g<1&&(this._g=r(this._g)),this._b<1&&(this._b=r(this._b)),this._ok=e.ok,this._tc_id=n++}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),o,e,s,u,c,g;return o=t.r/255,e=t.g/255,s=t.b/255,o<=.03928?u=o/12.92:u=a.pow((o+.055)/1.055,2.4),e<=.03928?c=e/12.92:c=a.pow((e+.055)/1.055,2.4),s<=.03928?g=s/12.92:g=a.pow((s+.055)/1.055,2.4),.2126*u+.7152*c+.0722*g},setAlpha:function(t){return this._a=ct(t),this._roundA=r(100*this._a)/100,this},toHsv:function(){var t=at(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=at(this._r,this._g,this._b),o=r(t.h*360),e=r(t.s*100),s=r(t.v*100);return this._a==1?"hsv("+o+", "+e+"%, "+s+"%)":"hsva("+o+", "+e+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var t=st(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=st(this._r,this._g,this._b),o=r(t.h*360),e=r(t.s*100),s=r(t.l*100);return this._a==1?"hsl("+o+", "+e+"%, "+s+"%)":"hsla("+o+", "+e+"%, "+s+"%, "+this._roundA+")"},toHex:function(t){return ht(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return Lt(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:r(this._r),g:r(this._g),b:r(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+r(this._r)+", "+r(this._g)+", "+r(this._b)+")":"rgba("+r(this._r)+", "+r(this._g)+", "+r(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:r(m(this._r,255)*100)+"%",g:r(m(this._g,255)*100)+"%",b:r(m(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+r(m(this._r,255)*100)+"%, "+r(m(this._g,255)*100)+"%, "+r(m(this._b,255)*100)+"%)":"rgba("+r(m(this._r,255)*100)+"%, "+r(m(this._g,255)*100)+"%, "+r(m(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Gt[ht(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var o="#"+lt(this._r,this._g,this._b,this._a),e=o,s=this._gradientType?"GradientType = 1, ":"";if(t){var u=l(t);e="#"+lt(u._r,u._g,u._b,u._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+o+",endColorstr="+e+")"},toString:function(t){var o=!!t;t=t||this._format;var e=!1,s=this._a<1&&this._a>=0,u=!o&&s&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return u?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(e=this.toRgbString()),t==="prgb"&&(e=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(e=this.toHexString()),t==="hex3"&&(e=this.toHexString(!0)),t==="hex4"&&(e=this.toHex8String(!0)),t==="hex8"&&(e=this.toHex8String()),t==="name"&&(e=this.toName()),t==="hsl"&&(e=this.toHslString()),t==="hsv"&&(e=this.toHsvString()),e||this.toHexString())},clone:function(){return l(this.toString())},_applyModification:function(t,o){var e=t.apply(null,[this].concat([].slice.call(o)));return this._r=e._r,this._g=e._g,this._b=e._b,this.setAlpha(e._a),this},lighten:function(){return this._applyModification(Tt,arguments)},brighten:function(){return this._applyModification(Ut,arguments)},darken:function(){return this._applyModification(Dt,arguments)},desaturate:function(){return this._applyModification(Rt,arguments)},saturate:function(){return this._applyModification(Mt,arguments)},greyscale:function(){return this._applyModification(St,arguments)},spin:function(){return this._applyModification(It,arguments)},_applyCombination:function(t,o){return t.apply(null,[this].concat([].slice.call(o)))},analogous:function(){return this._applyCombination(Pt,arguments)},complement:function(){return this._applyCombination(Ot,arguments)},monochromatic:function(){return this._applyCombination(Vt,arguments)},splitcomplement:function(){return this._applyCombination(Bt,arguments)},triad:function(){return this._applyCombination(Kt,arguments)},tetrad:function(){return this._applyCombination(Nt,arguments)}},l.fromRatio=function(t,o){if(typeof t=="object"){var e={};for(var s in t)t.hasOwnProperty(s)&&(s==="a"?e[s]=t[s]:e[s]=D(t[s]));t=e}return l(t,o)};function q(t){var o={r:0,g:0,b:0},e=1,s=null,u=null,c=null,g=!1,b=!1;return typeof t=="string"&&(t=zt(t)),typeof t=="object"&&(M(t.r)&&M(t.g)&&M(t.b)?(o=X(t.r,t.g,t.b),g=!0,b=String(t.r).substr(-1)==="%"?"prgb":"rgb"):M(t.h)&&M(t.s)&&M(t.v)?(s=D(t.s),u=D(t.v),o=Ht(t.h,s,u),g=!0,b="hsv"):M(t.h)&&M(t.s)&&M(t.l)&&(s=D(t.s),c=D(t.l),o=At(t.h,s,c),g=!0,b="hsl"),t.hasOwnProperty("a")&&(e=t.a)),e=ct(e),{ok:g,format:t.format||b,r:h(255,f(o.r,0)),g:h(255,f(o.g,0)),b:h(255,f(o.b,0)),a:e}}function X(t,o,e){return{r:m(t,255)*255,g:m(o,255)*255,b:m(e,255)*255}}function st(t,o,e){t=m(t,255),o=m(o,255),e=m(e,255);var s=f(t,o,e),u=h(t,o,e),c,g,b=(s+u)/2;if(s==u)c=g=0;else{var v=s-u;switch(g=b>.5?v/(2-s-u):v/(s+u),s){case t:c=(o-e)/v+(o<e?6:0);break;case o:c=(e-t)/v+2;break;case e:c=(t-o)/v+4;break}c/=6}return{h:c,s:g,l:b}}function At(t,o,e){var s,u,c;t=m(t,360),o=m(o,100),e=m(e,100);function g($,I,H){return H<0&&(H+=1),H>1&&(H-=1),H<1/6?$+(I-$)*6*H:H<1/2?I:H<2/3?$+(I-$)*(2/3-H)*6:$}if(o===0)s=u=c=e;else{var b=e<.5?e*(1+o):e+o-e*o,v=2*e-b;s=g(v,b,t+1/3),u=g(v,b,t),c=g(v,b,t-1/3)}return{r:s*255,g:u*255,b:c*255}}function at(t,o,e){t=m(t,255),o=m(o,255),e=m(e,255);var s=f(t,o,e),u=h(t,o,e),c,g,b=s,v=s-u;if(g=s===0?0:v/s,s==u)c=0;else{switch(s){case t:c=(o-e)/v+(o<e?6:0);break;case o:c=(e-t)/v+2;break;case e:c=(t-o)/v+4;break}c/=6}return{h:c,s:g,v:b}}function Ht(t,o,e){t=m(t,360)*6,o=m(o,100),e=m(e,100);var s=a.floor(t),u=t-s,c=e*(1-o),g=e*(1-u*o),b=e*(1-(1-u)*o),v=s%6,$=[e,g,c,c,b,e][v],I=[b,e,e,g,c,c][v],H=[c,c,b,e,e,g][v];return{r:$*255,g:I*255,b:H*255}}function ht(t,o,e,s){var u=[k(r(t).toString(16)),k(r(o).toString(16)),k(r(e).toString(16))];return s&&u[0].charAt(0)==u[0].charAt(1)&&u[1].charAt(0)==u[1].charAt(1)&&u[2].charAt(0)==u[2].charAt(1)?u[0].charAt(0)+u[1].charAt(0)+u[2].charAt(0):u.join("")}function Lt(t,o,e,s,u){var c=[k(r(t).toString(16)),k(r(o).toString(16)),k(r(e).toString(16)),k(ut(s))];return u&&c[0].charAt(0)==c[0].charAt(1)&&c[1].charAt(0)==c[1].charAt(1)&&c[2].charAt(0)==c[2].charAt(1)&&c[3].charAt(0)==c[3].charAt(1)?c[0].charAt(0)+c[1].charAt(0)+c[2].charAt(0)+c[3].charAt(0):c.join("")}function lt(t,o,e,s){var u=[k(ut(s)),k(r(t).toString(16)),k(r(o).toString(16)),k(r(e).toString(16))];return u.join("")}l.equals=function(t,o){return!t||!o?!1:l(t).toRgbString()==l(o).toRgbString()},l.random=function(){return l.fromRatio({r:_(),g:_(),b:_()})};function Rt(t,o){o=o===0?0:o||10;var e=l(t).toHsl();return e.s-=o/100,e.s=B(e.s),l(e)}function Mt(t,o){o=o===0?0:o||10;var e=l(t).toHsl();return e.s+=o/100,e.s=B(e.s),l(e)}function St(t){return l(t).desaturate(100)}function Tt(t,o){o=o===0?0:o||10;var e=l(t).toHsl();return e.l+=o/100,e.l=B(e.l),l(e)}function Ut(t,o){o=o===0?0:o||10;var e=l(t).toRgb();return e.r=f(0,h(255,e.r-r(255*-(o/100)))),e.g=f(0,h(255,e.g-r(255*-(o/100)))),e.b=f(0,h(255,e.b-r(255*-(o/100)))),l(e)}function Dt(t,o){o=o===0?0:o||10;var e=l(t).toHsl();return e.l-=o/100,e.l=B(e.l),l(e)}function It(t,o){var e=l(t).toHsl(),s=(e.h+o)%360;return e.h=s<0?360+s:s,l(e)}function Ot(t){var o=l(t).toHsl();return o.h=(o.h+180)%360,l(o)}function Kt(t){var o=l(t).toHsl(),e=o.h;return[l(t),l({h:(e+120)%360,s:o.s,l:o.l}),l({h:(e+240)%360,s:o.s,l:o.l})]}function Nt(t){var o=l(t).toHsl(),e=o.h;return[l(t),l({h:(e+90)%360,s:o.s,l:o.l}),l({h:(e+180)%360,s:o.s,l:o.l}),l({h:(e+270)%360,s:o.s,l:o.l})]}function Bt(t){var o=l(t).toHsl(),e=o.h;return[l(t),l({h:(e+72)%360,s:o.s,l:o.l}),l({h:(e+216)%360,s:o.s,l:o.l})]}function Pt(t,o,e){o=o||6,e=e||30;var s=l(t).toHsl(),u=360/e,c=[l(t)];for(s.h=(s.h-(u*o>>1)+720)%360;--o;)s.h=(s.h+u)%360,c.push(l(s));return c}function Vt(t,o){o=o||6;for(var e=l(t).toHsv(),s=e.h,u=e.s,c=e.v,g=[],b=1/o;o--;)g.push(l({h:s,s:u,v:c})),c=(c+b)%1;return g}l.mix=function(t,o,e){e=e===0?0:e||50;var s=l(t).toRgb(),u=l(o).toRgb(),c=e/100,g={r:(u.r-s.r)*c+s.r,g:(u.g-s.g)*c+s.g,b:(u.b-s.b)*c+s.b,a:(u.a-s.a)*c+s.a};return l(g)},l.readability=function(t,o){var e=l(t),s=l(o);return(a.max(e.getLuminance(),s.getLuminance())+.05)/(a.min(e.getLuminance(),s.getLuminance())+.05)},l.isReadable=function(t,o,e){var s=l.readability(t,o),u,c;switch(c=!1,u=jt(e),u.level+u.size){case"AAsmall":case"AAAlarge":c=s>=4.5;break;case"AAlarge":c=s>=3;break;case"AAAsmall":c=s>=7;break}return c},l.mostReadable=function(t,o,e){var s=null,u=0,c,g,b,v;e=e||{},g=e.includeFallbackColors,b=e.level,v=e.size;for(var $=0;$<o.length;$++)c=l.readability(t,o[$]),c>u&&(u=c,s=l(o[$]));return l.isReadable(t,s,{level:b,size:v})||!g?s:(e.includeFallbackColors=!1,l.mostReadable(t,["#fff","#000"],e))};var z=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Gt=l.hexNames=Ft(z);function Ft(t){var o={};for(var e in t)t.hasOwnProperty(e)&&(o[t[e]]=e);return o}function ct(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function m(t,o){qt(t)&&(t="100%");var e=Xt(t);return t=h(o,f(0,parseFloat(t))),e&&(t=parseInt(t*o,10)/100),a.abs(t-o)<1e-6?1:t%o/parseFloat(o)}function B(t){return h(1,f(0,t))}function w(t){return parseInt(t,16)}function qt(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function Xt(t){return typeof t=="string"&&t.indexOf("%")!=-1}function k(t){return t.length==1?"0"+t:""+t}function D(t){return t<=1&&(t=t*100+"%"),t}function ut(t){return a.round(parseFloat(t)*255).toString(16)}function dt(t){return w(t)/255}var A=function(){var t="[-\\+]?\\d+%?",o="[-\\+]?\\d*\\.\\d+%?",e="(?:"+o+")|(?:"+t+")",s="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",u="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+s),rgba:new RegExp("rgba"+u),hsl:new RegExp("hsl"+s),hsla:new RegExp("hsla"+u),hsv:new RegExp("hsv"+s),hsva:new RegExp("hsva"+u),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function M(t){return!!A.CSS_UNIT.exec(t)}function zt(t){t=t.replace(d,"").replace(i,"").toLowerCase();var o=!1;if(z[t])t=z[t],o=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var e;return(e=A.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=A.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=A.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=A.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=A.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=A.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=A.hex8.exec(t))?{r:w(e[1]),g:w(e[2]),b:w(e[3]),a:dt(e[4]),format:o?"name":"hex8"}:(e=A.hex6.exec(t))?{r:w(e[1]),g:w(e[2]),b:w(e[3]),format:o?"name":"hex"}:(e=A.hex4.exec(t))?{r:w(e[1]+""+e[1]),g:w(e[2]+""+e[2]),b:w(e[3]+""+e[3]),a:dt(e[4]+""+e[4]),format:o?"name":"hex8"}:(e=A.hex3.exec(t))?{r:w(e[1]+""+e[1]),g:w(e[2]+""+e[2]),b:w(e[3]+""+e[3]),format:o?"name":"hex"}:!1}function jt(t){var o,e;return t=t||{level:"AA",size:"small"},o=(t.level||"AA").toUpperCase(),e=(t.size||"small").toLowerCase(),o!=="AA"&&o!=="AAA"&&(o="AA"),e!=="small"&&e!=="large"&&(e="small"),{level:o,size:e}}typeof P!="undefined"&&P.exports?P.exports=l:typeof define=="function"&&define.amd?define(function(){return l}):window.tinycolor=l})(Math)});var pt=".color-picker{position:relative}.color-picker__button{padding:.25rem;background:#fff;border-radius:.25rem;border:1px solid #cecece;cursor:pointer;box-sizing:border-box}.color-picker__button-color{display:block;border:1px solid #626262;background:#000;width:2.5rem;height:1rem;box-sizing:border-box}";var L=O(T(),1);var ft=".color-picker__popup{position:absolute;top:calc(100% - 1px);z-index:50;width:214px;box-shadow:0 1px 3px 0 rgba(0,0,0,0.1),0 1px 2px -1px rgba(0,0,0,0.1);padding:.5rem;background:#fff;border:1px solid #cecece;border-radius:.25rem}";var gt=".color-picker__saturation{touch-action:none;overflow:hidden;width:100%;height:9rem;position:relative}.color-picker__saturation-box{width:100%;height:100%;position:absolute}.color-picker__saturation-white{background:linear-gradient(90deg,#fff,hsla(0,0%,100%,0));width:100%;height:100%;position:absolute}.color-picker__saturation-black{background:linear-gradient(0,#000,transparent);width:100%;height:100%;position:absolute}.color-picker__saturation-pointer{top:34.902%;left:18.6747%;cursor:pointer;position:absolute;outline:0}.color-picker__saturation-pointer-handler{box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgb(0,0,0,0.3),0 0 1px 2px rgb(0,0,0,0.4);-webkit-transform:translate(-2px,-2px);transform:translate(-2px,-2px);border-radius:100%;width:.25rem;height:.25rem;outline:0}";var J=O(T(),1);var E="toolcool-color-hsv-changed",x="toolcool-color-hue-changed",R="toolcool-color-alpha-changed",U=(a,d)=>{!a||document.dispatchEvent(new CustomEvent(R,{detail:{a:d,cid:a}}))},y=(a,d,i,n)=>{!a||document.dispatchEvent(new CustomEvent(E,{detail:{h:d,s:i,v:n,cid:a}}))},mt=(a,d)=>{!a||document.dispatchEvent(new CustomEvent(x,{detail:{h:d,cid:a}}))};var Y=a=>(a<0&&(a=0),a>360&&(a=360),`hsl(${Math.round(a)}, 100%, 50%)`),Q=a=>(a<0&&(a=0),a>1&&(a=1),`${(-(a*100)+100).toFixed(2)}%`),W=a=>(a<0&&(a=0),a>1&&(a=1),`${(a*100).toFixed(2)}%`),K=a=>{a<0&&(a=0),a>360&&(a=360);let d=a*100/360,i=Math.round(d*100)/100;return i<0&&(i=0),i>100&&(i=100),i},V=a=>360*a/100,G=a=>{let d=Number(a)||0;return d=Math.round(d),d=Math.max(0,d),d=Math.min(255,d),d},bt=a=>{let d=Number(a)||100;return d=Math.round(d),d=Math.max(0,d),d=Math.min(100,d),d};var Z=class extends HTMLElement{constructor(){super();p(this,"cid");p(this,"$saturation");p(this,"$color");p(this,"$pointer");p(this,"hue",0);p(this,"saturation",0);p(this,"value",0);this.attachShadow({mode:"open"}),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onChange=this.onChange.bind(this),this.onPointerKeyDown=this.onPointerKeyDown.bind(this),this.colorHsvChangedCustomEvent=this.colorHsvChangedCustomEvent.bind(this),this.colorHueChangedCustomEvent=this.colorHueChangedCustomEvent.bind(this)}performUpdate(i=!0){this.$pointer.style.left=W(this.saturation),this.$pointer.style.top=Q(this.value),this.$color.setAttribute("style",`background: ${Y(this.hue)}`),i&&y(this.cid,this.hue,this.saturation,this.value)}onChange(i){if(!this.$saturation)return;let{width:n,height:r,left:h,top:f}=this.$saturation.getBoundingClientRect();if(n===0||r===0)return;let _=typeof i.clientX=="number"?i.clientX:i.touches[0].clientX,l=typeof i.clientY=="number"?i.clientY:i.touches[0].clientY,q=Math.min(Math.max(0,_-h),n),X=Math.min(Math.max(0,l-f),r);this.saturation=q/n,this.value=1-X/r,this.performUpdate()}onPointerKeyDown(i){switch(i.key){case"ArrowLeft":{this.saturation=Math.max(0,this.saturation-.01),this.performUpdate();break}case"ArrowRight":{this.saturation=Math.min(1,this.saturation+.01),this.performUpdate();break}case"ArrowUp":{this.value=Math.min(1,this.value+.01),this.performUpdate();break}case"ArrowDown":{i.preventDefault(),this.value=Math.max(0,this.value-.01),this.performUpdate();break}}}onMouseDown(i){i.preventDefault&&i.preventDefault(),this.onChange(i),window.addEventListener("mousemove",this.onChange),window.addEventListener("mouseup",this.onMouseUp),window.setTimeout(()=>{this.$pointer.focus()},0)}onMouseUp(){window.removeEventListener("mousemove",this.onChange),window.removeEventListener("mouseup",this.onChange)}colorHsvChangedCustomEvent(i){if(!i||!i.detail||!i.detail.cid||i.detail.cid!==this.cid)return;let n=!1;this.hue!==i.detail.h&&(this.hue=i.detail.h,n=!0),this.saturation!==i.detail.s&&(this.saturation=i.detail.s,n=!0),this.value!==i.detail.v&&(this.value=i.detail.v,n=!0),n&&this.performUpdate(!1)}colorHueChangedCustomEvent(i){!i||!i.detail||!i.detail.cid||i.detail.cid===this.cid&&(this.hue=i.detail.h,this.performUpdate())}connectedCallback(){this.cid=this.getAttribute("cid");let n=(0,J.default)(this.getAttribute("color")||"#000").toHsv();this.hue=n.h,this.saturation=n.s,this.value=n.v;let r=Q(this.value),h=W(this.saturation);this.shadowRoot.innerHTML=`
           <style>${gt}</style>
           <div class="color-picker__saturation">
                <div class="color-picker__saturation-box" style="background: ${Y(this.hue)}">
                    <div class="color-picker__saturation-white">
                        <div class="color-picker__saturation-black"></div>
                        
                        <div class="color-picker__saturation-pointer" tabindex="0" style="top: ${r}; left: ${h};">
                            <div class="color-picker__saturation-pointer-handler"></div>
                        </div>
                    </div>
                </div>
           </div>
        `,this.$saturation=this.shadowRoot.querySelector(".color-picker__saturation"),this.$color=this.shadowRoot.querySelector(".color-picker__saturation-box"),this.$pointer=this.shadowRoot.querySelector(".color-picker__saturation-pointer"),this.$pointer.addEventListener("keydown",this.onPointerKeyDown),this.$saturation.addEventListener("mousedown",this.onMouseDown),this.$saturation.addEventListener("mouseup",this.onMouseUp),this.$saturation.addEventListener("touchmove",this.onChange),this.$saturation.addEventListener("touchstart",this.onChange),document.addEventListener(E,this.colorHsvChangedCustomEvent),document.addEventListener(x,this.colorHueChangedCustomEvent)}disconnectedCallback(){this.$saturation.removeEventListener("mousedown",this.onMouseDown),this.$saturation.removeEventListener("mouseup",this.onMouseUp),this.$saturation.removeEventListener("touchmove",this.onChange),this.$saturation.removeEventListener("touchstart",this.onChange),this.$pointer.removeEventListener("keydown",this.onPointerKeyDown),document.removeEventListener(E,this.colorHsvChangedCustomEvent),document.removeEventListener(x,this.colorHueChangedCustomEvent)}attributeChangedCallback(){let n=(0,J.default)(this.getAttribute("color")||"#000").toHsv();this.hue=n.h,this.saturation=n.s,this.value=n.v,this.performUpdate()}},vt=Z;var Ct=".color-picker__hue{overflow:hidden;height:.625rem;margin-bottom:.25rem;margin-top:.25rem;position:relative}.color-picker__hue-box{width:100%;height:100%;position:absolute}.color-picker__hue-v{background:linear-gradient(0,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red);width:100%;height:100%;position:absolute}.color-picker__hue-h{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red);width:100%;height:100%;position:relative}.color-picker__hue-pointer{width:100%;height:100%;position:absolute}.color-picker__hue-pointer-box{left:87%;position:absolute;outline:0}.color-picker__hue-pointer-handler{background:#fff;box-shadow:0 0 2px rgb(0 0 0 / 60%);box-sizing:border-box;border:1px solid hsla(0,0%,88%,.5);height:8px;margin-top:1px;-webkit-transform:translateX(-4px);transform:translateX(-4px);width:8px;cursor:pointer;outline:0}.color-picker__hue-pointer-box:focus .color-picker__hue-pointer-handler{border:2px solid hsla(0,0%,88%,1)}";var tt=O(T(),1);var et=class extends HTMLElement{constructor(){super();p(this,"cid");p(this,"$hue");p(this,"$pointer");p(this,"hue",0);this.attachShadow({mode:"open"}),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onChange=this.onChange.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.colorHsvChangedCustomEvent=this.colorHsvChangedCustomEvent.bind(this)}performUpdate(){this.$pointer.style.left=`${K(this.hue)}%`,mt(this.cid,this.hue)}colorHsvChangedCustomEvent(i){!i||!i.detail||!i.detail.cid||i.detail.cid===this.cid&&this.hue!==i.detail.h&&(this.hue=i.detail.h,this.performUpdate())}onChange(i){if(!this.$hue)return;let{width:n,left:r}=this.$hue.getBoundingClientRect();if(n===0)return;let h=typeof i.clientX=="number"?i.clientX:i.touches[0].clientX,f=Math.min(Math.max(0,h-r),n),_=Math.min(Math.max(0,Math.round(f*100/n)),100);this.hue=V(_),this.performUpdate()}onKeyDown(i){switch(this.$pointer.focus(),i.key){case"ArrowLeft":{let n=K(this.hue);n=Math.max(0,n-1),this.hue=V(n),this.performUpdate();break}case"ArrowRight":{let n=K(this.hue);n=Math.min(100,n+1),this.hue=V(n),this.performUpdate();break}}}onMouseDown(i){i.preventDefault&&i.preventDefault(),this.onChange(i),window.addEventListener("mousemove",this.onChange),window.addEventListener("mouseup",this.onMouseUp),window.setTimeout(()=>{this.$pointer.focus()},0)}onMouseUp(){window.removeEventListener("mousemove",this.onChange),window.removeEventListener("mouseup",this.onChange)}connectedCallback(){this.cid=this.getAttribute("cid");let i=(0,tt.default)(this.getAttribute("color")||"#000");this.hue=i.toHsv().h,this.shadowRoot.innerHTML=`
           <style>${Ct}</style>
           <div class="color-picker__hue">
                <div class="color-picker__hue-box">
                    <div class="color-picker__hue-v">
                        <div class="color-picker__hue-h"></div>
                    </div>
                    
                    <div class="color-picker__hue-pointer">
                        <div class="color-picker__hue-pointer-box" tabindex="0" style="left: ${K(this.hue)}%">
                            <div class="color-picker__hue-pointer-handler"></div>
                        </div>
                    </div>
                </div>
           </div>
        `,this.$hue=this.shadowRoot.querySelector(".color-picker__hue"),this.$pointer=this.shadowRoot.querySelector(".color-picker__hue-pointer-box"),this.$hue.addEventListener("mousedown",this.onMouseDown),this.$hue.addEventListener("mouseup",this.onMouseUp),this.$hue.addEventListener("touchmove",this.onChange),this.$hue.addEventListener("touchstart",this.onChange),this.$pointer.addEventListener("keydown",this.onKeyDown),document.addEventListener(E,this.colorHsvChangedCustomEvent)}disconnectedCallback(){this.$hue.removeEventListener("mousedown",this.onMouseDown),this.$hue.removeEventListener("mouseup",this.onMouseUp),this.$hue.removeEventListener("touchmove",this.onChange),this.$hue.removeEventListener("touchstart",this.onChange),this.$pointer.removeEventListener("keydown",this.onKeyDown),document.removeEventListener(E,this.colorHsvChangedCustomEvent)}attributeChangedCallback(){let n=(0,tt.default)(this.getAttribute("color")||"#000").toHsv();this.hue=n.h,this.performUpdate()}},Et=et;var _t=".color-picker__alpha{overflow:hidden;height:.625rem;position:relative}.color-picker__alpha-box{width:100%;height:100%;position:absolute}.color-picker__alpha-transparent-bg{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAADFJREFUOE9jZGBgEGHAD97gk2YcNYBhmIQBgWSAP52AwoAQwJvQRg1gACckQoC2gQgAIF8IscwEtKYAAAAASUVORK5CYII=);overflow:hidden;width:100%;height:100%;position:absolute}.color-picker__alpha-color-bg{width:100%;height:100%;position:absolute}.color-picker__alpha-pointer{width:100%;height:100%;position:absolute}.color-picker__alpha-pointer-box{left:100%;position:absolute;outline:0}.color-picker__alpha-pointer-handler{background:#fff;box-shadow:0 0 2px rgb(0 0 0 / 60%);box-sizing:border-box;border:1px solid hsla(0,0%,88%,.5);height:8px;margin-top:1px;-webkit-transform:translateX(-4px);transform:translateX(-4px);width:8px;cursor:pointer;outline:0}.color-picker__alpha-pointer-box:focus .color-picker__alpha-pointer-handler{border:2px solid hsla(0,0%,88%,1)}";var N=O(T(),1),it=class extends HTMLElement{constructor(){super();p(this,"cid");p(this,"initialColor",(0,N.default)("#000"));p(this,"$alpha");p(this,"$color");p(this,"$pointer");p(this,"alpha",1);this.attachShadow({mode:"open"}),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onChange=this.onChange.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.colorHsvChangedCustomEvent=this.colorHsvChangedCustomEvent.bind(this),this.colorHueChangedCustomEvent=this.colorHueChangedCustomEvent.bind(this),this.colorAlphaChangedCustomEvent=this.colorAlphaChangedCustomEvent.bind(this)}performUpdate(i){this.alpha=i/100,this.$pointer.style.left=`${i}%`,U(this.cid,i/100)}onChange(i){if(!this.$alpha)return;let{width:n,left:r}=this.$alpha.getBoundingClientRect();if(n===0)return;let h=typeof i.clientX=="number"?i.clientX:i.touches[0].clientX,f=Math.min(Math.max(0,h-r),n),_=Math.min(Math.max(0,f*100/n),100);this.performUpdate(_)}onKeyDown(i){switch(this.$pointer.focus(),i.key){case"ArrowLeft":{let n=this.alpha*100;this.performUpdate(Math.max(0,n-1));break}case"ArrowRight":{let n=this.alpha*100;this.performUpdate(Math.min(100,n+1));break}}}colorHsvChangedCustomEvent(i){if(!i||!i.detail||!i.detail.cid||i.detail.cid!==this.cid)return;this.initialColor=N.default.fromRatio({h:i.detail.h,s:i.detail.s,v:i.detail.v,a:this.initialColor.toHsv().a});let n=this.initialColor.toRgb();this.$color.style.background=`linear-gradient(to right, rgba(${n.r},${n.g},${n.b}, 0) 0%, rgba(${n.r},${n.g},${n.b}, 1) 100%)`}colorHueChangedCustomEvent(i){if(!i||!i.detail||!i.detail.cid||i.detail.cid!==this.cid)return;let n=this.initialColor.toHsv();this.initialColor=N.default.fromRatio({h:i.detail.h,s:n.s,v:n.v,a:n.a});let r=this.initialColor.toRgb();this.$color.style.background=`linear-gradient(to right, rgba(${r.r},${r.g},${r.b}, 0) 0%, rgba(${r.r},${r.g},${r.b}, 1) 100%)`}colorAlphaChangedCustomEvent(i){if(!i||!i.detail||!i.detail.cid||i.detail.cid!==this.cid)return;let n=!1;if(this.alpha!==i.detail.a&&(this.alpha=i.detail.a,n=!0),n){let r=this.alpha*100;this.performUpdate(Math.max(0,r-1))}}onMouseDown(i){i.preventDefault&&i.preventDefault(),this.onChange(i),window.addEventListener("mousemove",this.onChange),window.addEventListener("mouseup",this.onMouseUp),window.setTimeout(()=>{this.$pointer.focus()},0)}onMouseUp(){window.removeEventListener("mousemove",this.onChange),window.removeEventListener("mouseup",this.onChange)}connectedCallback(){this.cid=this.getAttribute("cid"),this.initialColor=(0,N.default)(this.getAttribute("color")||"#000");let i=this.initialColor.toRgb();this.alpha=i.a,this.shadowRoot.innerHTML=`
           <style>${_t}</style>
           <div class="color-picker__alpha">
                <div class="color-picker__alpha-box">
                    <div class="color-picker__alpha-transparent-bg"></div>
                    <div class="color-picker__alpha-color-bg" style="background: linear-gradient(to right, rgba(${i.r},${i.g},${i.b}, 0) 0%, rgba(${i.r},${i.g},${i.b}, 1) 100%)"></div>
                    
                    <div class="color-picker__alpha-pointer">
                        <div class="color-picker__alpha-pointer-box" tabindex="0" style="left: ${this.alpha*100}%;" >
                            <div class="color-picker__alpha-pointer-handler"></div>
                        </div>
                    </div>
                </div>
           </div>
        `,this.$alpha=this.shadowRoot.querySelector(".color-picker__alpha"),this.$color=this.shadowRoot.querySelector(".color-picker__alpha-color-bg"),this.$pointer=this.shadowRoot.querySelector(".color-picker__alpha-pointer-box"),this.$alpha.addEventListener("mousedown",this.onMouseDown),this.$alpha.addEventListener("mouseup",this.onMouseUp),this.$alpha.addEventListener("touchmove",this.onChange),this.$alpha.addEventListener("touchstart",this.onChange),this.$pointer.addEventListener("keydown",this.onKeyDown),document.addEventListener(E,this.colorHsvChangedCustomEvent),document.addEventListener(x,this.colorHueChangedCustomEvent),document.addEventListener(R,this.colorAlphaChangedCustomEvent)}disconnectedCallback(){this.$alpha.removeEventListener("mousedown",this.onMouseDown),this.$alpha.removeEventListener("mouseup",this.onMouseUp),this.$alpha.removeEventListener("touchmove",this.onChange),this.$alpha.removeEventListener("touchstart",this.onChange),this.$pointer.removeEventListener("keydown",this.onKeyDown),document.removeEventListener(E,this.colorHsvChangedCustomEvent),document.removeEventListener(x,this.colorHueChangedCustomEvent),document.removeEventListener(R,this.colorAlphaChangedCustomEvent)}},wt=it;var xt=".color-picker__fields{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Noto Sans,Liberation Sans,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-size:11px;grid-template-columns:60px 35px 35px 35px 34px;text-align:center;display:grid;gap:.25rem;margin-top:.25rem}.color-picker__fields input{border:1px solid #cecece;padding:0 3px;color:inherit;font-family:inherit;font-size:100%;line-height:inherit;margin:0;box-sizing:border-box}";var C=O(T(),1);var S=()=>Math.random().toString(16).slice(2);var ot=class extends HTMLElement{constructor(){super();p(this,"cid");p(this,"initialColor",(0,C.default)("#000"));p(this,"$fields");p(this,"$hex");p(this,"$r");p(this,"$g");p(this,"$b");p(this,"$a");p(this,"hex","");p(this,"r",0);p(this,"g",0);p(this,"b",0);p(this,"a",1);this.attachShadow({mode:"open"}),this.colorHsvChangedCustomEvent=this.colorHsvChangedCustomEvent.bind(this),this.colorHueChangedCustomEvent=this.colorHueChangedCustomEvent.bind(this),this.colorAlphaChangedCustomEvent=this.colorAlphaChangedCustomEvent.bind(this),this.onHexChange=this.onHexChange.bind(this),this.performUpdate=this.performUpdate.bind(this),this.onRedChange=this.onRedChange.bind(this),this.onGreenChange=this.onGreenChange.bind(this),this.onBlueChange=this.onBlueChange.bind(this),this.onAlphaChange=this.onAlphaChange.bind(this),this.onRedKeyDown=this.onRedKeyDown.bind(this),this.onBlueKeyDown=this.onBlueKeyDown.bind(this),this.onGreenKeyDown=this.onGreenKeyDown.bind(this),this.onAlphaKeyDown=this.onAlphaKeyDown.bind(this)}colorHueChangedCustomEvent(i){if(!i||!i.detail||!i.detail.cid||i.detail.cid!==this.cid)return;let n=this.initialColor.toHsv();this.initialColor=C.default.fromRatio({h:i.detail.h,s:n.s,v:n.v,a:n.a}),this.performUpdate()}colorAlphaChangedCustomEvent(i){if(!i||!i.detail||!i.detail.cid||i.detail.cid!==this.cid)return;let n=this.initialColor.toRgb();n.a=i.detail.a,this.initialColor=(0,C.default)(n),this.performUpdate()}colorHsvChangedCustomEvent(i){!i||!i.detail||!i.detail.cid||i.detail.cid===this.cid&&(this.initialColor=C.default.fromRatio({h:i.detail.h,s:i.detail.s,v:i.detail.v,a:this.initialColor.toHsv().a}),this.performUpdate())}performUpdate(){let i=this.initialColor.toRgb();this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.hex=this.initialColor.toHex(),this.shadowRoot.activeElement!==this.$hex&&(this.$hex.value=this.hex.toUpperCase()),this.shadowRoot.activeElement!==this.$r&&(this.$r.value=this.r.toString()),this.shadowRoot.activeElement!==this.$g&&(this.$g.value=this.g.toString()),this.shadowRoot.activeElement!==this.$b&&(this.$b.value=this.b.toString()),this.shadowRoot.activeElement!==this.$a&&(this.$a.value=Math.round(this.a*100).toString())}onFieldKeyDown(i,n){let r=this.initialColor.toRgb();switch(i.key){case"ArrowUp":{if(n==="r"){this.r=Math.min(255,r.r+1),r.r=this.r;let h=(0,C.default)(r).toHsv();y(this.cid,h.h,h.s,h.v),this.$r.value=this.r.toString(),this.performUpdate()}if(n==="g"){this.g=Math.min(255,r.g+1),r.g=this.g;let h=(0,C.default)(r).toHsv();y(this.cid,h.h,h.s,h.v),this.$g.value=this.g.toString(),this.performUpdate()}if(n==="b"){this.b=Math.min(255,r.b+1),r.b=this.b;let h=(0,C.default)(r).toHsv();y(this.cid,h.h,h.s,h.v),this.$b.value=this.b.toString(),this.performUpdate()}if(n==="a"){this.a=Math.min(100,this.a+.01),this.$a.value=Math.round(this.a*100).toString();let h=this.initialColor.toRgb();h.a=this.a,this.initialColor=(0,C.default)(h),this.performUpdate(),U(this.cid,this.a)}break}case"ArrowDown":{if(n==="r"){this.r=Math.max(0,r.r-1),r.r=this.r;let h=(0,C.default)(r).toHsv();y(this.cid,h.h,h.s,h.v),this.$r.value=this.r.toString(),this.performUpdate()}if(n==="g"){this.g=Math.max(0,r.g-1),r.g=this.g;let h=(0,C.default)(r).toHsv();y(this.cid,h.h,h.s,h.v),this.$g.value=this.g.toString(),this.performUpdate()}if(n==="b"){this.b=Math.max(0,r.b-1),r.b=this.b;let h=(0,C.default)(r).toHsv();y(this.cid,h.h,h.s,h.v),this.$b.value=this.b.toString(),this.performUpdate()}if(n==="a"){this.a=Math.max(0,this.a-.01),this.$a.value=Math.round(this.a*100).toString();let h=this.initialColor.toRgb();h.a=this.a,this.initialColor=(0,C.default)(h),this.performUpdate(),U(this.cid,this.a)}break}case"Escape":{this.shadowRoot.activeElement&&this.shadowRoot.activeElement.blur(),this.performUpdate();break}case"Enter":{this.shadowRoot.activeElement&&this.shadowRoot.activeElement.blur(),this.performUpdate();break}}}onRedKeyDown(i){this.onFieldKeyDown(i,"r")}onGreenKeyDown(i){this.onFieldKeyDown(i,"g")}onBlueKeyDown(i){this.onFieldKeyDown(i,"b")}onAlphaKeyDown(i){this.onFieldKeyDown(i,"a")}onHexChange(i){let n=i.target;if(n.value.length!==6)return;let r=(0,C.default)(`#${n.value}`);if(r.isValid()){this.initialColor=r;let h=this.initialColor.toHsv();y(this.cid,h.h,h.s,h.v)}}onRedChange(i){let n=i.target,r=G(n.value);if(r.toString()===n.value){let h=this.initialColor.toRgb();h.r=r;let f=(0,C.default)(h).toHsv();y(this.cid,f.h,f.s,f.v)}}onGreenChange(i){let n=i.target,r=G(n.value);if(r.toString()===n.value){let h=this.initialColor.toRgb();h.g=r;let f=(0,C.default)(h).toHsv();y(this.cid,f.h,f.s,f.v)}}onBlueChange(i){let n=i.target,r=G(n.value);if(r.toString()===n.value){let h=this.initialColor.toRgb();h.b=r;let f=(0,C.default)(h).toHsv();y(this.cid,f.h,f.s,f.v)}}onAlphaChange(i){let n=i.target,r=bt(n.value);r.toString()===n.value&&U(this.cid,r/100)}connectedCallback(){this.cid=this.getAttribute("cid"),this.initialColor=(0,C.default)(this.getAttribute("color")||"#000");let i=this.initialColor.toRgb();this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.hex=this.initialColor.toHex();let n=S(),r=S(),h=S(),f=S(),_=S();this.shadowRoot.innerHTML=`
           <style>${xt}</style>
           <div class="color-picker__fields">
               <input id="hex-${n}" type="text" value="${this.hex.toUpperCase()}" />
               <input id="r-${r}" type="text" value="${this.r}" />
               <input id="g-${h}" type="text" value="${this.g}" />
               <input id="b-${f}" type="text" value="${this.b}" />
               <input id="a-${_}" type="text" value="${Math.round(this.a*100)}" />
               
               <label for="hex-${n}">Hex</label>
               <label for="r-${r}">R</label>
               <label for="g-${h}">G</label>
               <label for="b-${f}">B</label>
               <label for="a-${_}">A</label>
           </div>
        `,this.$fields=this.shadowRoot.querySelector(".color-picker__fields"),this.$hex=this.shadowRoot.getElementById(`hex-${n}`),this.$r=this.shadowRoot.getElementById(`r-${r}`),this.$g=this.shadowRoot.getElementById(`g-${h}`),this.$b=this.shadowRoot.getElementById(`b-${f}`),this.$a=this.shadowRoot.getElementById(`a-${_}`),document.addEventListener(E,this.colorHsvChangedCustomEvent),document.addEventListener(x,this.colorHueChangedCustomEvent),document.addEventListener(R,this.colorAlphaChangedCustomEvent),this.$hex.addEventListener("input",this.onHexChange),this.$r.addEventListener("input",this.onRedChange),this.$g.addEventListener("input",this.onGreenChange),this.$b.addEventListener("input",this.onBlueChange),this.$a.addEventListener("input",this.onAlphaChange),this.$hex.addEventListener("blur",this.performUpdate),this.$r.addEventListener("blur",this.performUpdate),this.$g.addEventListener("blur",this.performUpdate),this.$b.addEventListener("blur",this.performUpdate),this.$a.addEventListener("blur",this.performUpdate),this.$r.addEventListener("keydown",this.onRedKeyDown),this.$g.addEventListener("keydown",this.onGreenKeyDown),this.$b.addEventListener("keydown",this.onBlueKeyDown),this.$a.addEventListener("keydown",this.onAlphaKeyDown)}disconnectedCallback(){document.removeEventListener(E,this.colorHsvChangedCustomEvent),document.removeEventListener(x,this.colorHueChangedCustomEvent),document.removeEventListener(R,this.colorAlphaChangedCustomEvent),this.$hex.removeEventListener("input",this.onHexChange),this.$r.removeEventListener("input",this.onRedChange),this.$g.removeEventListener("input",this.onGreenChange),this.$b.removeEventListener("input",this.onBlueChange),this.$a.removeEventListener("input",this.onAlphaChange),this.$hex.removeEventListener("blur",this.performUpdate),this.$r.removeEventListener("blur",this.performUpdate),this.$g.removeEventListener("blur",this.performUpdate),this.$b.removeEventListener("blur",this.performUpdate),this.$a.removeEventListener("blur",this.performUpdate),this.$r.removeEventListener("keydown",this.onRedKeyDown),this.$g.removeEventListener("keydown",this.onGreenKeyDown),this.$b.removeEventListener("keydown",this.onBlueKeyDown),this.$a.removeEventListener("keydown",this.onAlphaKeyDown)}attributeChangedCallback(){this.initialColor=(0,C.default)(this.getAttribute("color")||"#000"),this.performUpdate()}},yt=ot;var rt=class extends HTMLElement{constructor(){super();p(this,"cid");p(this,"$popup");p(this,"initialColor","#000");customElements.get("toolcool-color-picker-saturation")||customElements.define("toolcool-color-picker-saturation",vt),customElements.get("toolcool-color-picker-hue")||customElements.define("toolcool-color-picker-hue",Et),customElements.get("toolcool-color-picker-alpha")||customElements.define("toolcool-color-picker-alpha",wt),customElements.get("toolcool-color-picker-fields")||customElements.define("toolcool-color-picker-fields",yt),this.cid=this.getAttribute("cid"),this.prevent=this.prevent.bind(this),this.attachShadow({mode:"open"})}prevent(i){i.preventDefault(),i.stopPropagation()}connectedCallback(){this.initialColor=this.getAttribute("color")||"#000",this.shadowRoot.innerHTML=`
           <style>${ft}</style>
           <div class="color-picker__popup">
                <toolcool-color-picker-saturation color="${this.initialColor}" cid="${this.cid}"></toolcool-color-picker-saturation>
                <toolcool-color-picker-hue color="${this.initialColor}" cid="${this.cid}"></toolcool-color-picker-hue>
                <toolcool-color-picker-alpha color="${this.initialColor}" cid="${this.cid}"></toolcool-color-picker-alpha>
                <toolcool-color-picker-fields color="${this.initialColor}" cid="${this.cid}"></toolcool-color-picker-fields>
           </div>
        `,this.$popup=this.shadowRoot.querySelector(".color-picker__popup"),this.$popup.addEventListener("click",this.prevent)}disconnectedCallback(){this.$popup.removeEventListener("click",this.prevent)}attributeChangedCallback(){this.initialColor=this.getAttribute("color")||"#000";let i=this.shadowRoot.querySelector("toolcool-color-picker-saturation"),n=this.shadowRoot.querySelector("toolcool-color-picker-hue"),r=this.shadowRoot.querySelector("toolcool-color-picker-alpha"),h=this.shadowRoot.querySelector("toolcool-color-picker-fields");i&&i.setAttribute("color",this.initialColor),n&&n.setAttribute("color",this.initialColor),r&&r.setAttribute("color",this.initialColor),h&&h.setAttribute("color",this.initialColor)}},$t=rt;var nt=class extends HTMLElement{constructor(){super();p(this,"cid");p(this,"$button");p(this,"$buttonColor");p(this,"$popupBox");p(this,"stateDefaults",{isPopupVisible:!1,initialColor:(0,L.default)("#000"),color:(0,L.default)("#000")});p(this,"state");this.cid=S(),customElements.get("toolcool-color-picker-popup")||customElements.define("toolcool-color-picker-popup",$t),this.attachShadow({mode:"open"}),this.toggle=this.toggle.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.clickedOutside=this.clickedOutside.bind(this),this.colorHsvChangedCustomEvent=this.colorHsvChangedCustomEvent.bind(this),this.colorHueChangedCustomEvent=this.colorHueChangedCustomEvent.bind(this),this.colorAlphaChangedCustomEvent=this.colorAlphaChangedCustomEvent.bind(this),this.initState()}get value(){let i=this.state.color.toRgb();return`rgba(${i.r}, ${i.g}, ${i.b}, ${i.a})`}set value(i){this.state.color=(0,L.default)(i)}get opened(){return this.state.isPopupVisible}set opened(i){this.state.isPopupVisible=i}initState(){let i=this;this.state=new Proxy(i.stateDefaults,{set(n,r,h,f){return n[r]=h,r==="isPopupVisible"&&i.onPopupVisibilityChange(),r==="initialColor"&&i.onInitialColorChange(),r==="color"&&i.onColorChange(),!0}})}onPopupVisibilityChange(){if(!this.$popupBox)return!0;this.$popupBox.innerHTML=this.state.isPopupVisible?`<toolcool-color-picker-popup color="${this.state.color.toHexString()}" cid="${this.cid}" />`:""}onInitialColorChange(){let i=this.state.color.toRgb(),n=`rgba(${i.r}, ${i.g}, ${i.b}, ${i.a})`;this.$buttonColor&&(this.$buttonColor.style.backgroundColor=n);let r=this.shadowRoot.querySelector("toolcool-color-picker-popup");r&&r.setAttribute("color",n)}onColorChange(){let i=this.state.color.toRgb(),n=`rgba(${i.r}, ${i.g}, ${i.b}, ${i.a})`;this.$buttonColor&&(this.$buttonColor.style.backgroundColor=n),this.dispatchEvent(new CustomEvent("change",{detail:{value:n}}))}colorHsvChangedCustomEvent(i){!i||!i.detail||!i.detail.cid||i.detail.cid===this.cid&&(this.state.color=L.default.fromRatio({h:i.detail.h,s:i.detail.s,v:i.detail.v,a:this.state.color.toHsv().a}))}colorHueChangedCustomEvent(i){if(!i||!i.detail||!i.detail.cid||i.detail.cid!==this.cid)return;let n=this.state.color.toHsv();this.state.color=L.default.fromRatio({h:i.detail.h,s:n.s,v:n.v,a:n.a})}colorAlphaChangedCustomEvent(i){if(!i||!i.detail||!i.detail.cid||i.detail.cid!==this.cid)return;let n=this.state.color.toRgb();n.a=i.detail.a,this.state.color=(0,L.default)(n)}clickedOutside(){this.state.isPopupVisible=!1}toggle(i){let n=this.state.isPopupVisible;window.setTimeout(()=>{this.state.isPopupVisible=!n},0)}onKeyDown(i){i.key==="Escape"&&(this.state.isPopupVisible=!1)}connectedCallback(){this.state.initialColor=(0,L.default)(this.getAttribute("color")||"#000"),this.state.color=(0,L.default)(this.getAttribute("color")||"#000");let i=this.state.color.toRgb();this.shadowRoot.innerHTML=`
            <style>${pt}</style>
            <div class="color-picker">
                <button
                    type="button"
                    tabIndex="0"
                    class="color-picker__button"
                    title="Select Color">
                    <span class="color-picker__button-color" style="background-color: rgba(${i.r}, ${i.g}, ${i.b}, ${i.a})"></span>
                </button>
                <div data-popup-box></div>
            </div>
        `,this.$button=this.shadowRoot.querySelector(".color-picker__button"),this.$buttonColor=this.shadowRoot.querySelector(".color-picker__button-color"),this.$button.addEventListener("click",this.toggle),this.$button.addEventListener("keydown",this.onKeyDown),this.$popupBox=this.shadowRoot.querySelector("[data-popup-box]"),document.addEventListener("click",this.clickedOutside),document.addEventListener(E,this.colorHsvChangedCustomEvent),document.addEventListener(x,this.colorHueChangedCustomEvent),document.addEventListener(R,this.colorAlphaChangedCustomEvent)}disconnectedCallback(){this.$button.removeEventListener("click",this.toggle),this.$button.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("click",this.clickedOutside),document.removeEventListener(E,this.colorHsvChangedCustomEvent),document.removeEventListener(x,this.colorHueChangedCustomEvent),document.removeEventListener(R,this.colorAlphaChangedCustomEvent)}attributeChangedCallback(){this.state.initialColor=(0,L.default)(this.getAttribute("color")||"#000"),this.state.color=(0,L.default)(this.getAttribute("color")||"#000"),this.onInitialColorChange()}},kt=nt;customElements.get("toolcool-color-picker")||customElements.define("toolcool-color-picker",kt);})();
//# sourceMappingURL=toolcool-color-picker.min.js.map
