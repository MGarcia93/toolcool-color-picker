(()=>{var Ft=Object.create;var z=Object.defineProperty;var qt=Object.getOwnPropertyDescriptor;var Xt=Object.getOwnPropertyNames;var zt=Object.getPrototypeOf,jt=Object.prototype.hasOwnProperty;var Yt=(u,d,i)=>d in u?z(u,d,{enumerable:!0,configurable:!0,writable:!0,value:i}):u[d]=i;var Qt=(u,d)=>()=>(d||u((d={exports:{}}).exports,d),d.exports);var Wt=(u,d,i,r)=>{if(d&&typeof d=="object"||typeof d=="function")for(let n of Xt(d))!jt.call(u,n)&&n!==i&&z(u,n,{get:()=>d[n],enumerable:!(r=qt(d,n))||r.enumerable});return u};var O=(u,d,i)=>(i=u!=null?Ft(zt(u)):{},Wt(d||!u||!u.__esModule?z(i,"default",{value:u,enumerable:!0}):i,u));var p=(u,d,i)=>(Yt(u,typeof d!="symbol"?d+"":d,i),i);var T=Qt((se,V)=>{(function(u){var d=/^\s+/,i=/\s+$/,r=0,n=u.round,a=u.min,f=u.max,_=u.random;function h(t,o){if(t=t||"",o=o||{},t instanceof h)return t;if(!(this instanceof h))return new h(t,o);var e=F(t);this._originalInput=t,this._r=e.r,this._g=e.g,this._b=e.b,this._a=e.a,this._roundA=n(100*this._a)/100,this._format=o.format||e.format,this._gradientType=o.gradientType,this._r<1&&(this._r=n(this._r)),this._g<1&&(this._g=n(this._g)),this._b<1&&(this._b=n(this._b)),this._ok=e.ok,this._tc_id=r++}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),o,e,s,c,l,g;return o=t.r/255,e=t.g/255,s=t.b/255,o<=.03928?c=o/12.92:c=u.pow((o+.055)/1.055,2.4),e<=.03928?l=e/12.92:l=u.pow((e+.055)/1.055,2.4),s<=.03928?g=s/12.92:g=u.pow((s+.055)/1.055,2.4),.2126*c+.7152*l+.0722*g},setAlpha:function(t){return this._a=rt(t),this._roundA=n(100*this._a)/100,this},toHsv:function(){var t=it(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=it(this._r,this._g,this._b),o=n(t.h*360),e=n(t.s*100),s=n(t.v*100);return this._a==1?"hsv("+o+", "+e+"%, "+s+"%)":"hsva("+o+", "+e+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var t=et(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=et(this._r,this._g,this._b),o=n(t.h*360),e=n(t.s*100),s=n(t.l*100);return this._a==1?"hsl("+o+", "+e+"%, "+s+"%)":"hsla("+o+", "+e+"%, "+s+"%, "+this._roundA+")"},toHex:function(t){return ot(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return xt(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:n(this._r),g:n(this._g),b:n(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+n(this._r)+", "+n(this._g)+", "+n(this._b)+")":"rgba("+n(this._r)+", "+n(this._g)+", "+n(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:n(m(this._r,255)*100)+"%",g:n(m(this._g,255)*100)+"%",b:n(m(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+n(m(this._r,255)*100)+"%, "+n(m(this._g,255)*100)+"%, "+n(m(this._b,255)*100)+"%)":"rgba("+n(m(this._r,255)*100)+"%, "+n(m(this._g,255)*100)+"%, "+n(m(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Kt[ot(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var o="#"+nt(this._r,this._g,this._b,this._a),e=o,s=this._gradientType?"GradientType = 1, ":"";if(t){var c=h(t);e="#"+nt(c._r,c._g,c._b,c._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+o+",endColorstr="+e+")"},toString:function(t){var o=!!t;t=t||this._format;var e=!1,s=this._a<1&&this._a>=0,c=!o&&s&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return c?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(e=this.toRgbString()),t==="prgb"&&(e=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(e=this.toHexString()),t==="hex3"&&(e=this.toHexString(!0)),t==="hex4"&&(e=this.toHex8String(!0)),t==="hex8"&&(e=this.toHex8String()),t==="name"&&(e=this.toName()),t==="hsl"&&(e=this.toHslString()),t==="hsv"&&(e=this.toHsvString()),e||this.toHexString())},clone:function(){return h(this.toString())},_applyModification:function(t,o){var e=t.apply(null,[this].concat([].slice.call(o)));return this._r=e._r,this._g=e._g,this._b=e._b,this.setAlpha(e._a),this},lighten:function(){return this._applyModification(At,arguments)},brighten:function(){return this._applyModification(Lt,arguments)},darken:function(){return this._applyModification(Mt,arguments)},desaturate:function(){return this._applyModification(yt,arguments)},saturate:function(){return this._applyModification(kt,arguments)},greyscale:function(){return this._applyModification(Ht,arguments)},spin:function(){return this._applyModification(Rt,arguments)},_applyCombination:function(t,o){return t.apply(null,[this].concat([].slice.call(o)))},analogous:function(){return this._applyCombination(It,arguments)},complement:function(){return this._applyCombination(St,arguments)},monochromatic:function(){return this._applyCombination(Ot,arguments)},splitcomplement:function(){return this._applyCombination(Dt,arguments)},triad:function(){return this._applyCombination(Tt,arguments)},tetrad:function(){return this._applyCombination(Ut,arguments)}},h.fromRatio=function(t,o){if(typeof t=="object"){var e={};for(var s in t)t.hasOwnProperty(s)&&(s==="a"?e[s]=t[s]:e[s]=D(t[s]));t=e}return h(t,o)};function F(t){var o={r:0,g:0,b:0},e=1,s=null,c=null,l=null,g=!1,b=!1;return typeof t=="string"&&(t=Pt(t)),typeof t=="object"&&(R(t.r)&&R(t.g)&&R(t.b)?(o=q(t.r,t.g,t.b),g=!0,b=String(t.r).substr(-1)==="%"?"prgb":"rgb"):R(t.h)&&R(t.s)&&R(t.v)?(s=D(t.s),c=D(t.v),o=$t(t.h,s,c),g=!0,b="hsv"):R(t.h)&&R(t.s)&&R(t.l)&&(s=D(t.s),l=D(t.l),o=wt(t.h,s,l),g=!0,b="hsl"),t.hasOwnProperty("a")&&(e=t.a)),e=rt(e),{ok:g,format:t.format||b,r:a(255,f(o.r,0)),g:a(255,f(o.g,0)),b:a(255,f(o.b,0)),a:e}}function q(t,o,e){return{r:m(t,255)*255,g:m(o,255)*255,b:m(e,255)*255}}function et(t,o,e){t=m(t,255),o=m(o,255),e=m(e,255);var s=f(t,o,e),c=a(t,o,e),l,g,b=(s+c)/2;if(s==c)l=g=0;else{var v=s-c;switch(g=b>.5?v/(2-s-c):v/(s+c),s){case t:l=(o-e)/v+(o<e?6:0);break;case o:l=(e-t)/v+2;break;case e:l=(t-o)/v+4;break}l/=6}return{h:l,s:g,l:b}}function wt(t,o,e){var s,c,l;t=m(t,360),o=m(o,100),e=m(e,100);function g(y,I,A){return A<0&&(A+=1),A>1&&(A-=1),A<1/6?y+(I-y)*6*A:A<1/2?I:A<2/3?y+(I-y)*(2/3-A)*6:y}if(o===0)s=c=l=e;else{var b=e<.5?e*(1+o):e+o-e*o,v=2*e-b;s=g(v,b,t+1/3),c=g(v,b,t),l=g(v,b,t-1/3)}return{r:s*255,g:c*255,b:l*255}}function it(t,o,e){t=m(t,255),o=m(o,255),e=m(e,255);var s=f(t,o,e),c=a(t,o,e),l,g,b=s,v=s-c;if(g=s===0?0:v/s,s==c)l=0;else{switch(s){case t:l=(o-e)/v+(o<e?6:0);break;case o:l=(e-t)/v+2;break;case e:l=(t-o)/v+4;break}l/=6}return{h:l,s:g,v:b}}function $t(t,o,e){t=m(t,360)*6,o=m(o,100),e=m(e,100);var s=u.floor(t),c=t-s,l=e*(1-o),g=e*(1-c*o),b=e*(1-(1-c)*o),v=s%6,y=[e,g,l,l,b,e][v],I=[b,e,e,g,l,l][v],A=[l,l,b,e,e,g][v];return{r:y*255,g:I*255,b:A*255}}function ot(t,o,e,s){var c=[k(n(t).toString(16)),k(n(o).toString(16)),k(n(e).toString(16))];return s&&c[0].charAt(0)==c[0].charAt(1)&&c[1].charAt(0)==c[1].charAt(1)&&c[2].charAt(0)==c[2].charAt(1)?c[0].charAt(0)+c[1].charAt(0)+c[2].charAt(0):c.join("")}function xt(t,o,e,s,c){var l=[k(n(t).toString(16)),k(n(o).toString(16)),k(n(e).toString(16)),k(st(s))];return c&&l[0].charAt(0)==l[0].charAt(1)&&l[1].charAt(0)==l[1].charAt(1)&&l[2].charAt(0)==l[2].charAt(1)&&l[3].charAt(0)==l[3].charAt(1)?l[0].charAt(0)+l[1].charAt(0)+l[2].charAt(0)+l[3].charAt(0):l.join("")}function nt(t,o,e,s){var c=[k(st(s)),k(n(t).toString(16)),k(n(o).toString(16)),k(n(e).toString(16))];return c.join("")}h.equals=function(t,o){return!t||!o?!1:h(t).toRgbString()==h(o).toRgbString()},h.random=function(){return h.fromRatio({r:_(),g:_(),b:_()})};function yt(t,o){o=o===0?0:o||10;var e=h(t).toHsl();return e.s-=o/100,e.s=N(e.s),h(e)}function kt(t,o){o=o===0?0:o||10;var e=h(t).toHsl();return e.s+=o/100,e.s=N(e.s),h(e)}function Ht(t){return h(t).desaturate(100)}function At(t,o){o=o===0?0:o||10;var e=h(t).toHsl();return e.l+=o/100,e.l=N(e.l),h(e)}function Lt(t,o){o=o===0?0:o||10;var e=h(t).toRgb();return e.r=f(0,a(255,e.r-n(255*-(o/100)))),e.g=f(0,a(255,e.g-n(255*-(o/100)))),e.b=f(0,a(255,e.b-n(255*-(o/100)))),h(e)}function Mt(t,o){o=o===0?0:o||10;var e=h(t).toHsl();return e.l-=o/100,e.l=N(e.l),h(e)}function Rt(t,o){var e=h(t).toHsl(),s=(e.h+o)%360;return e.h=s<0?360+s:s,h(e)}function St(t){var o=h(t).toHsl();return o.h=(o.h+180)%360,h(o)}function Tt(t){var o=h(t).toHsl(),e=o.h;return[h(t),h({h:(e+120)%360,s:o.s,l:o.l}),h({h:(e+240)%360,s:o.s,l:o.l})]}function Ut(t){var o=h(t).toHsl(),e=o.h;return[h(t),h({h:(e+90)%360,s:o.s,l:o.l}),h({h:(e+180)%360,s:o.s,l:o.l}),h({h:(e+270)%360,s:o.s,l:o.l})]}function Dt(t){var o=h(t).toHsl(),e=o.h;return[h(t),h({h:(e+72)%360,s:o.s,l:o.l}),h({h:(e+216)%360,s:o.s,l:o.l})]}function It(t,o,e){o=o||6,e=e||30;var s=h(t).toHsl(),c=360/e,l=[h(t)];for(s.h=(s.h-(c*o>>1)+720)%360;--o;)s.h=(s.h+c)%360,l.push(h(s));return l}function Ot(t,o){o=o||6;for(var e=h(t).toHsv(),s=e.h,c=e.s,l=e.v,g=[],b=1/o;o--;)g.push(h({h:s,s:c,v:l})),l=(l+b)%1;return g}h.mix=function(t,o,e){e=e===0?0:e||50;var s=h(t).toRgb(),c=h(o).toRgb(),l=e/100,g={r:(c.r-s.r)*l+s.r,g:(c.g-s.g)*l+s.g,b:(c.b-s.b)*l+s.b,a:(c.a-s.a)*l+s.a};return h(g)},h.readability=function(t,o){var e=h(t),s=h(o);return(u.max(e.getLuminance(),s.getLuminance())+.05)/(u.min(e.getLuminance(),s.getLuminance())+.05)},h.isReadable=function(t,o,e){var s=h.readability(t,o),c,l;switch(l=!1,c=Gt(e),c.level+c.size){case"AAsmall":case"AAAlarge":l=s>=4.5;break;case"AAlarge":l=s>=3;break;case"AAAsmall":l=s>=7;break}return l},h.mostReadable=function(t,o,e){var s=null,c=0,l,g,b,v;e=e||{},g=e.includeFallbackColors,b=e.level,v=e.size;for(var y=0;y<o.length;y++)l=h.readability(t,o[y]),l>c&&(c=l,s=h(o[y]));return h.isReadable(t,s,{level:b,size:v})||!g?s:(e.includeFallbackColors=!1,h.mostReadable(t,["#fff","#000"],e))};var X=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Kt=h.hexNames=Nt(X);function Nt(t){var o={};for(var e in t)t.hasOwnProperty(e)&&(o[t[e]]=e);return o}function rt(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function m(t,o){Vt(t)&&(t="100%");var e=Bt(t);return t=a(o,f(0,parseFloat(t))),e&&(t=parseInt(t*o,10)/100),u.abs(t-o)<1e-6?1:t%o/parseFloat(o)}function N(t){return a(1,f(0,t))}function w(t){return parseInt(t,16)}function Vt(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function Bt(t){return typeof t=="string"&&t.indexOf("%")!=-1}function k(t){return t.length==1?"0"+t:""+t}function D(t){return t<=1&&(t=t*100+"%"),t}function st(t){return u.round(parseFloat(t)*255).toString(16)}function at(t){return w(t)/255}var H=function(){var t="[-\\+]?\\d+%?",o="[-\\+]?\\d*\\.\\d+%?",e="(?:"+o+")|(?:"+t+")",s="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",c="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+s),rgba:new RegExp("rgba"+c),hsl:new RegExp("hsl"+s),hsla:new RegExp("hsla"+c),hsv:new RegExp("hsv"+s),hsva:new RegExp("hsva"+c),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function R(t){return!!H.CSS_UNIT.exec(t)}function Pt(t){t=t.replace(d,"").replace(i,"").toLowerCase();var o=!1;if(X[t])t=X[t],o=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var e;return(e=H.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=H.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=H.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=H.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=H.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=H.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=H.hex8.exec(t))?{r:w(e[1]),g:w(e[2]),b:w(e[3]),a:at(e[4]),format:o?"name":"hex8"}:(e=H.hex6.exec(t))?{r:w(e[1]),g:w(e[2]),b:w(e[3]),format:o?"name":"hex"}:(e=H.hex4.exec(t))?{r:w(e[1]+""+e[1]),g:w(e[2]+""+e[2]),b:w(e[3]+""+e[3]),a:at(e[4]+""+e[4]),format:o?"name":"hex8"}:(e=H.hex3.exec(t))?{r:w(e[1]+""+e[1]),g:w(e[2]+""+e[2]),b:w(e[3]+""+e[3]),format:o?"name":"hex"}:!1}function Gt(t){var o,e;return t=t||{level:"AA",size:"small"},o=(t.level||"AA").toUpperCase(),e=(t.size||"small").toLowerCase(),o!=="AA"&&o!=="AAA"&&(o="AA"),e!=="small"&&e!=="large"&&(e="small"),{level:o,size:e}}typeof V!="undefined"&&V.exports?V.exports=h:typeof define=="function"&&define.amd?define(function(){return h}):window.tinycolor=h})(Math)});var ht=".color-picker{position:relative}.color-picker__button{padding:.25rem;background:#fff;border-radius:.25rem;border:1px solid #cecece;cursor:pointer;box-sizing:border-box}.color-picker__button-color{display:block;border:1px solid #626262;background:#000;width:2.5rem;height:1rem;box-sizing:border-box}";var L=O(T(),1);var lt=".color-picker__popup{position:absolute;top:calc(100% - 1px);z-index:50;width:214px;box-shadow:0 1px 3px 0 rgba(0,0,0,0.1),0 1px 2px -1px rgba(0,0,0,0.1);padding:.5rem;background:#fff;border:1px solid #cecece;border-radius:.25rem}";var ct=".color-picker__saturation{touch-action:none;overflow:hidden;width:100%;height:9rem;position:relative}.color-picker__saturation-box{width:100%;height:100%;position:absolute}.color-picker__saturation-white{background:linear-gradient(90deg,#fff,hsla(0,0%,100%,0));width:100%;height:100%;position:absolute}.color-picker__saturation-black{background:linear-gradient(0,#000,transparent);width:100%;height:100%;position:absolute}.color-picker__saturation-pointer{top:34.902%;left:18.6747%;cursor:pointer;position:absolute;outline:0}.color-picker__saturation-pointer-handler{box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgb(0,0,0,0.3),0 0 1px 2px rgb(0,0,0,0.4);-webkit-transform:translate(-2px,-2px);transform:translate(-2px,-2px);border-radius:100%;width:.25rem;height:.25rem;outline:0}";var G=O(T(),1);var E="toolcool-color-hsv-changed",$="toolcool-color-hue-changed",M="toolcool-color-alpha-changed",U=(u,d)=>{!u||document.dispatchEvent(new CustomEvent(M,{detail:{a:d,cid:u}}))},x=(u,d,i,r)=>{!u||document.dispatchEvent(new CustomEvent(E,{detail:{h:d,s:i,v:r,cid:u}}))},ut=(u,d)=>{!u||document.dispatchEvent(new CustomEvent($,{detail:{h:d,cid:u}}))},S=()=>Math.random().toString(16).slice(2),B=u=>{let d=Number(u)||0;return d=Math.round(d),d=Math.max(0,d),d=Math.min(255,d),d},dt=u=>{let d=Number(u)||100;return d=Math.round(d),d=Math.max(0,d),d=Math.min(100,d),d};var P=u=>`hsl(${Math.round(u)}, 100%, 50%)`;var j=class extends HTMLElement{constructor(){super();p(this,"cid");p(this,"$saturation");p(this,"$color");p(this,"$pointer");p(this,"color",(0,G.default)("#000"));p(this,"hue",0);p(this,"saturation",0);p(this,"value",0);this.attachShadow({mode:"open"}),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onChange=this.onChange.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.colorHsvChangedCustomEvent=this.colorHsvChangedCustomEvent.bind(this),this.colorHueChangedCustomEvent=this.colorHueChangedCustomEvent.bind(this)}performUpdate(){this.$pointer.style.left=`${this.saturation*100}%`,this.$pointer.style.top=`${-(this.value*100)+100}%`,this.$color.style.background=P(this.hue),x(this.cid,this.hue,this.saturation,this.value)}onChange(i){if(!this.$saturation)return;let{width:r,height:n,left:a,top:f}=this.$saturation.getBoundingClientRect();if(r===0||n===0)return;let _=typeof i.clientX=="number"?i.clientX:i.touches[0].clientX,h=typeof i.clientY=="number"?i.clientY:i.touches[0].clientY,F=Math.min(Math.max(0,_-a),r),q=Math.min(Math.max(0,h-f),n);this.saturation=F/r,this.value=1-q/n,this.performUpdate()}onKeyDown(i){switch(i.key){case"ArrowLeft":{this.saturation=Math.max(0,this.saturation-.01),this.performUpdate();break}case"ArrowRight":{this.saturation=Math.min(1,this.saturation+.01),this.performUpdate();break}case"ArrowUp":{this.value=Math.min(1,this.value+.01),this.performUpdate();break}case"ArrowDown":{i.preventDefault(),this.value=Math.max(0,this.value-.01),this.performUpdate();break}}}onMouseDown(i){i.preventDefault&&i.preventDefault(),this.onChange(i),window.addEventListener("mousemove",this.onChange),window.addEventListener("mouseup",this.onMouseUp),window.setTimeout(()=>{this.$pointer.focus()},0)}onMouseUp(){window.removeEventListener("mousemove",this.onChange),window.removeEventListener("mouseup",this.onChange)}colorHsvChangedCustomEvent(i){if(!i||!i.detail||!i.detail.cid||i.detail.cid!==this.cid)return;let r=!1;this.hue!==i.detail.h&&(this.hue=i.detail.h,r=!0),this.saturation!==i.detail.s&&(this.saturation=i.detail.s,r=!0),this.value!==i.detail.v&&(this.value=i.detail.v,r=!0),r&&this.performUpdate()}colorHueChangedCustomEvent(i){!i||!i.detail||!i.detail.cid||i.detail.cid===this.cid&&(this.hue=i.detail.h,this.$color.style.background=P(this.hue))}connectedCallback(){this.cid=this.getAttribute("cid"),this.color=(0,G.default)(this.getAttribute("color")||"#000");let i=this.color.toHsv();this.hue=i.h,this.saturation=i.s,this.value=i.v;let r=`${-(this.value*100)+100}%`,n=`${this.saturation*100}%`;this.shadowRoot.innerHTML=`
           <style>${ct}</style>
           <div class="color-picker__saturation">
                <div class="color-picker__saturation-box" style="background: ${P(this.hue)}">
                    <div class="color-picker__saturation-white">
                        <div class="color-picker__saturation-black"></div>
                        
                        <div class="color-picker__saturation-pointer" tabindex="0" style="top: ${r}; left: ${n};">
                            <div class="color-picker__saturation-pointer-handler"></div>
                        </div>
                    </div>
                </div>
           </div>
        `,this.$saturation=this.shadowRoot.querySelector(".color-picker__saturation"),this.$color=this.shadowRoot.querySelector(".color-picker__saturation-box"),this.$pointer=this.shadowRoot.querySelector(".color-picker__saturation-pointer"),this.$pointer.addEventListener("keydown",this.onKeyDown),this.$saturation.addEventListener("mousedown",this.onMouseDown),this.$saturation.addEventListener("mouseup",this.onMouseUp),this.$saturation.addEventListener("touchmove",this.onChange),this.$saturation.addEventListener("touchstart",this.onChange),document.addEventListener(E,this.colorHsvChangedCustomEvent),document.addEventListener($,this.colorHueChangedCustomEvent)}disconnectedCallback(){this.$saturation.removeEventListener("mousedown",this.onMouseDown),this.$saturation.removeEventListener("mouseup",this.onMouseUp),this.$saturation.removeEventListener("touchmove",this.onChange),this.$saturation.removeEventListener("touchstart",this.onChange),this.$pointer.removeEventListener("keydown",this.onKeyDown),document.removeEventListener(E,this.colorHsvChangedCustomEvent),document.removeEventListener($,this.colorHueChangedCustomEvent)}attributeChangedCallback(){this.color=(0,G.default)(this.getAttribute("color")||"#000"),console.log(this.color);let i=this.color.toHsv();this.hue=i.h,this.saturation=i.s,this.value=i.v,this.performUpdate()}},pt=j;var ft=".color-picker__hue{overflow:hidden;height:.625rem;margin-bottom:.25rem;margin-top:.25rem;position:relative}.color-picker__hue-box{width:100%;height:100%;position:absolute}.color-picker__hue-v{background:linear-gradient(0,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red);width:100%;height:100%;position:absolute}.color-picker__hue-h{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red);width:100%;height:100%;position:relative}.color-picker__hue-pointer{width:100%;height:100%;position:absolute}.color-picker__hue-pointer-box{left:87%;position:absolute;outline:0}.color-picker__hue-pointer-handler{background:#fff;box-shadow:0 0 2px rgb(0 0 0 / 60%);box-sizing:border-box;border:1px solid hsla(0,0%,88%,.5);height:8px;margin-top:1px;-webkit-transform:translateX(-4px);transform:translateX(-4px);width:8px;cursor:pointer;outline:0}.color-picker__hue-pointer-box:focus .color-picker__hue-pointer-handler{border:2px solid hsla(0,0%,88%,1)}";var Y=O(T(),1),Q=class extends HTMLElement{constructor(){super();p(this,"cid");p(this,"initialColor",(0,Y.default)("#000"));p(this,"$hue");p(this,"$pointer");p(this,"hue",0);this.attachShadow({mode:"open"}),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onChange=this.onChange.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.colorHsvChangedCustomEvent=this.colorHsvChangedCustomEvent.bind(this)}performUpdate(i){this.$pointer.style.left=`${i}%`,this.hue=360*i/100,ut(this.cid,this.hue)}colorHsvChangedCustomEvent(i){if(!i||!i.detail||!i.detail.cid||i.detail.cid!==this.cid)return;let r=!1;if(this.hue!==i.detail.h&&(this.hue=i.detail.h,r=!0),r){let n=this.hue*100/360;this.performUpdate(Math.max(0,n-1))}}onChange(i){if(!this.$hue)return;let{width:r,left:n}=this.$hue.getBoundingClientRect();if(r===0)return;let a=typeof i.clientX=="number"?i.clientX:i.touches[0].clientX,f=Math.min(Math.max(0,a-n),r),_=Math.min(Math.max(0,Math.round(f*100/r)),100);this.performUpdate(_)}onKeyDown(i){switch(this.$pointer.focus(),i.key){case"ArrowLeft":{let r=this.hue*100/360;this.performUpdate(Math.max(0,r-1));break}case"ArrowRight":{let r=this.hue*100/360;this.performUpdate(Math.min(100,r+1));break}}}onMouseDown(i){i.preventDefault&&i.preventDefault(),this.onChange(i),window.addEventListener("mousemove",this.onChange),window.addEventListener("mouseup",this.onMouseUp),window.setTimeout(()=>{this.$pointer.focus()},0)}onMouseUp(){window.removeEventListener("mousemove",this.onChange),window.removeEventListener("mouseup",this.onChange)}connectedCallback(){this.cid=this.getAttribute("cid"),this.initialColor=(0,Y.default)(this.getAttribute("color")||"#000"),this.hue=this.initialColor.toHsv().h,this.shadowRoot.innerHTML=`
           <style>${ft}</style>
           <div class="color-picker__hue">
                <div class="color-picker__hue-box">
                    <div class="color-picker__hue-v">
                        <div class="color-picker__hue-h"></div>
                    </div>
                    
                    <div class="color-picker__hue-pointer">
                        <div class="color-picker__hue-pointer-box" tabindex="0" style="left: ${this.hue} ">
                            <div class="color-picker__hue-pointer-handler"></div>
                        </div>
                    </div>
                </div>
           </div>
        `,this.$hue=this.shadowRoot.querySelector(".color-picker__hue"),this.$pointer=this.shadowRoot.querySelector(".color-picker__hue-pointer-box"),this.$hue.addEventListener("mousedown",this.onMouseDown),this.$hue.addEventListener("mouseup",this.onMouseUp),this.$hue.addEventListener("touchmove",this.onChange),this.$hue.addEventListener("touchstart",this.onChange);let i=Math.min(Math.max(0,this.hue),100);this.$pointer.style.left=`${i}%`,this.$pointer.addEventListener("keydown",this.onKeyDown),document.addEventListener(E,this.colorHsvChangedCustomEvent)}disconnectedCallback(){this.$hue.removeEventListener("mousedown",this.onMouseDown),this.$hue.removeEventListener("mouseup",this.onMouseUp),this.$hue.removeEventListener("touchmove",this.onChange),this.$hue.removeEventListener("touchstart",this.onChange),this.$pointer.removeEventListener("keydown",this.onKeyDown),document.removeEventListener(E,this.colorHsvChangedCustomEvent)}},gt=Q;var mt=".color-picker__alpha{overflow:hidden;height:.625rem;position:relative}.color-picker__alpha-box{width:100%;height:100%;position:absolute}.color-picker__alpha-transparent-bg{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAADFJREFUOE9jZGBgEGHAD97gk2YcNYBhmIQBgWSAP52AwoAQwJvQRg1gACckQoC2gQgAIF8IscwEtKYAAAAASUVORK5CYII=);overflow:hidden;width:100%;height:100%;position:absolute}.color-picker__alpha-color-bg{width:100%;height:100%;position:absolute}.color-picker__alpha-pointer{width:100%;height:100%;position:absolute}.color-picker__alpha-pointer-box{left:100%;position:absolute;outline:0}.color-picker__alpha-pointer-handler{background:#fff;box-shadow:0 0 2px rgb(0 0 0 / 60%);box-sizing:border-box;border:1px solid hsla(0,0%,88%,.5);height:8px;margin-top:1px;-webkit-transform:translateX(-4px);transform:translateX(-4px);width:8px;cursor:pointer;outline:0}.color-picker__alpha-pointer-box:focus .color-picker__alpha-pointer-handler{border:2px solid hsla(0,0%,88%,1)}";var K=O(T(),1),W=class extends HTMLElement{constructor(){super();p(this,"cid");p(this,"initialColor",(0,K.default)("#000"));p(this,"$alpha");p(this,"$color");p(this,"$pointer");p(this,"alpha",1);this.attachShadow({mode:"open"}),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onChange=this.onChange.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.colorHsvChangedCustomEvent=this.colorHsvChangedCustomEvent.bind(this),this.colorHueChangedCustomEvent=this.colorHueChangedCustomEvent.bind(this),this.colorAlphaChangedCustomEvent=this.colorAlphaChangedCustomEvent.bind(this)}performUpdate(i){this.alpha=i/100,this.$pointer.style.left=`${i}%`,U(this.cid,i/100)}onChange(i){if(!this.$alpha)return;let{width:r,left:n}=this.$alpha.getBoundingClientRect();if(r===0)return;let a=typeof i.clientX=="number"?i.clientX:i.touches[0].clientX,f=Math.min(Math.max(0,a-n),r),_=Math.min(Math.max(0,f*100/r),100);this.performUpdate(_)}onKeyDown(i){switch(this.$pointer.focus(),i.key){case"ArrowLeft":{let r=this.alpha*100;this.performUpdate(Math.max(0,r-1));break}case"ArrowRight":{let r=this.alpha*100;this.performUpdate(Math.min(100,r+1));break}}}colorHsvChangedCustomEvent(i){if(!i||!i.detail||!i.detail.cid||i.detail.cid!==this.cid)return;this.initialColor=K.default.fromRatio({h:i.detail.h,s:i.detail.s,v:i.detail.v,a:this.initialColor.toHsv().a});let r=this.initialColor.toRgb();this.$color.style.background=`linear-gradient(to right, rgba(${r.r},${r.g},${r.b}, 0) 0%, rgba(${r.r},${r.g},${r.b}, 1) 100%)`}colorHueChangedCustomEvent(i){if(!i||!i.detail||!i.detail.cid||i.detail.cid!==this.cid)return;let r=this.initialColor.toHsv();this.initialColor=K.default.fromRatio({h:i.detail.h,s:r.s,v:r.v,a:r.a});let n=this.initialColor.toRgb();this.$color.style.background=`linear-gradient(to right, rgba(${n.r},${n.g},${n.b}, 0) 0%, rgba(${n.r},${n.g},${n.b}, 1) 100%)`}colorAlphaChangedCustomEvent(i){if(!i||!i.detail||!i.detail.cid||i.detail.cid!==this.cid)return;let r=!1;if(this.alpha!==i.detail.a&&(this.alpha=i.detail.a,r=!0),r){let n=this.alpha*100;this.performUpdate(Math.max(0,n-1))}}onMouseDown(i){i.preventDefault&&i.preventDefault(),this.onChange(i),window.addEventListener("mousemove",this.onChange),window.addEventListener("mouseup",this.onMouseUp),window.setTimeout(()=>{this.$pointer.focus()},0)}onMouseUp(){window.removeEventListener("mousemove",this.onChange),window.removeEventListener("mouseup",this.onChange)}connectedCallback(){this.cid=this.getAttribute("cid"),this.initialColor=(0,K.default)(this.getAttribute("color")||"#000");let i=this.initialColor.toRgb();this.alpha=i.a,this.shadowRoot.innerHTML=`
           <style>${mt}</style>
           <div class="color-picker__alpha">
                <div class="color-picker__alpha-box">
                    <div class="color-picker__alpha-transparent-bg"></div>
                    <div class="color-picker__alpha-color-bg" style="background: linear-gradient(to right, rgba(${i.r},${i.g},${i.b}, 0) 0%, rgba(${i.r},${i.g},${i.b}, 1) 100%)"></div>
                    
                    <div class="color-picker__alpha-pointer">
                        <div class="color-picker__alpha-pointer-box" tabindex="0" style="left: ${this.alpha*100}%;" >
                            <div class="color-picker__alpha-pointer-handler"></div>
                        </div>
                    </div>
                </div>
           </div>
        `,this.$alpha=this.shadowRoot.querySelector(".color-picker__alpha"),this.$color=this.shadowRoot.querySelector(".color-picker__alpha-color-bg"),this.$pointer=this.shadowRoot.querySelector(".color-picker__alpha-pointer-box"),this.$alpha.addEventListener("mousedown",this.onMouseDown),this.$alpha.addEventListener("mouseup",this.onMouseUp),this.$alpha.addEventListener("touchmove",this.onChange),this.$alpha.addEventListener("touchstart",this.onChange),this.$pointer.addEventListener("keydown",this.onKeyDown),document.addEventListener(E,this.colorHsvChangedCustomEvent),document.addEventListener($,this.colorHueChangedCustomEvent),document.addEventListener(M,this.colorAlphaChangedCustomEvent)}disconnectedCallback(){this.$alpha.removeEventListener("mousedown",this.onMouseDown),this.$alpha.removeEventListener("mouseup",this.onMouseUp),this.$alpha.removeEventListener("touchmove",this.onChange),this.$alpha.removeEventListener("touchstart",this.onChange),this.$pointer.removeEventListener("keydown",this.onKeyDown),document.removeEventListener(E,this.colorHsvChangedCustomEvent),document.removeEventListener($,this.colorHueChangedCustomEvent),document.removeEventListener(M,this.colorAlphaChangedCustomEvent)}},bt=W;var vt=".color-picker__fields{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Noto Sans,Liberation Sans,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-size:11px;grid-template-columns:60px 35px 35px 35px 34px;text-align:center;display:grid;gap:.25rem;margin-top:.25rem}.color-picker__fields input{border:1px solid #cecece;padding:0 3px;color:inherit;font-family:inherit;font-size:100%;line-height:inherit;margin:0;box-sizing:border-box}";var C=O(T(),1),J=class extends HTMLElement{constructor(){super();p(this,"cid");p(this,"initialColor",(0,C.default)("#000"));p(this,"$fields");p(this,"$hex");p(this,"$r");p(this,"$g");p(this,"$b");p(this,"$a");p(this,"hex","");p(this,"r",0);p(this,"g",0);p(this,"b",0);p(this,"a",1);this.attachShadow({mode:"open"}),this.colorHsvChangedCustomEvent=this.colorHsvChangedCustomEvent.bind(this),this.colorHueChangedCustomEvent=this.colorHueChangedCustomEvent.bind(this),this.colorAlphaChangedCustomEvent=this.colorAlphaChangedCustomEvent.bind(this),this.onHexChange=this.onHexChange.bind(this),this.performUpdate=this.performUpdate.bind(this),this.onRedChange=this.onRedChange.bind(this),this.onGreenChange=this.onGreenChange.bind(this),this.onBlueChange=this.onBlueChange.bind(this),this.onAlphaChange=this.onAlphaChange.bind(this),this.onRedKeyDown=this.onRedKeyDown.bind(this),this.onBlueKeyDown=this.onBlueKeyDown.bind(this),this.onGreenKeyDown=this.onGreenKeyDown.bind(this),this.onAlphaKeyDown=this.onAlphaKeyDown.bind(this)}colorHueChangedCustomEvent(i){if(!i||!i.detail||!i.detail.cid||i.detail.cid!==this.cid)return;let r=this.initialColor.toHsv();this.initialColor=C.default.fromRatio({h:i.detail.h,s:r.s,v:r.v,a:r.a}),this.performUpdate()}colorAlphaChangedCustomEvent(i){if(!i||!i.detail||!i.detail.cid||i.detail.cid!==this.cid)return;let r=this.initialColor.toRgb();r.a=i.detail.a,this.initialColor=(0,C.default)(r),this.performUpdate()}colorHsvChangedCustomEvent(i){!i||!i.detail||!i.detail.cid||i.detail.cid===this.cid&&(this.initialColor=C.default.fromRatio({h:i.detail.h,s:i.detail.s,v:i.detail.v,a:this.initialColor.toHsv().a}),this.performUpdate())}performUpdate(){let i=this.initialColor.toRgb();this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.hex=this.initialColor.toHex(),this.shadowRoot.activeElement!==this.$hex&&(this.$hex.value=this.hex.toUpperCase()),this.shadowRoot.activeElement!==this.$r&&(this.$r.value=this.r.toString()),this.shadowRoot.activeElement!==this.$g&&(this.$g.value=this.g.toString()),this.shadowRoot.activeElement!==this.$b&&(this.$b.value=this.b.toString()),this.shadowRoot.activeElement!==this.$a&&(this.$a.value=Math.round(this.a*100).toString())}onFieldKeyDown(i,r){let n=this.initialColor.toRgb();switch(i.key){case"ArrowUp":{if(r==="r"){this.r=Math.min(255,n.r+1),n.r=this.r;let a=(0,C.default)(n).toHsv();x(this.cid,a.h,a.s,a.v),this.$r.value=this.r.toString(),this.performUpdate()}if(r==="g"){this.g=Math.min(255,n.g+1),n.g=this.g;let a=(0,C.default)(n).toHsv();x(this.cid,a.h,a.s,a.v),this.$g.value=this.g.toString(),this.performUpdate()}if(r==="b"){this.b=Math.min(255,n.b+1),n.b=this.b;let a=(0,C.default)(n).toHsv();x(this.cid,a.h,a.s,a.v),this.$b.value=this.b.toString(),this.performUpdate()}if(r==="a"){this.a=Math.min(100,this.a+.01),this.$a.value=Math.round(this.a*100).toString();let a=this.initialColor.toRgb();a.a=this.a,this.initialColor=(0,C.default)(a),this.performUpdate(),U(this.cid,this.a)}break}case"ArrowDown":{if(r==="r"){this.r=Math.max(0,n.r-1),n.r=this.r;let a=(0,C.default)(n).toHsv();x(this.cid,a.h,a.s,a.v),this.$r.value=this.r.toString(),this.performUpdate()}if(r==="g"){this.g=Math.max(0,n.g-1),n.g=this.g;let a=(0,C.default)(n).toHsv();x(this.cid,a.h,a.s,a.v),this.$g.value=this.g.toString(),this.performUpdate()}if(r==="b"){this.b=Math.max(0,n.b-1),n.b=this.b;let a=(0,C.default)(n).toHsv();x(this.cid,a.h,a.s,a.v),this.$b.value=this.b.toString(),this.performUpdate()}if(r==="a"){this.a=Math.max(0,this.a-.01),this.$a.value=Math.round(this.a*100).toString();let a=this.initialColor.toRgb();a.a=this.a,this.initialColor=(0,C.default)(a),this.performUpdate(),U(this.cid,this.a)}break}case"Escape":{this.shadowRoot.activeElement&&this.shadowRoot.activeElement.blur(),this.performUpdate();break}case"Enter":{this.shadowRoot.activeElement&&this.shadowRoot.activeElement.blur(),this.performUpdate();break}}}onRedKeyDown(i){this.onFieldKeyDown(i,"r")}onGreenKeyDown(i){this.onFieldKeyDown(i,"g")}onBlueKeyDown(i){this.onFieldKeyDown(i,"b")}onAlphaKeyDown(i){this.onFieldKeyDown(i,"a")}onHexChange(i){let r=i.target;if(r.value.length!==6)return;let n=(0,C.default)(`#${r.value}`);if(n.isValid()){this.initialColor=n;let a=this.initialColor.toHsv();x(this.cid,a.h,a.s,a.v)}}onRedChange(i){let r=i.target,n=B(r.value);if(n.toString()===r.value){let a=this.initialColor.toRgb();a.r=n;let f=(0,C.default)(a).toHsv();x(this.cid,f.h,f.s,f.v)}}onGreenChange(i){let r=i.target,n=B(r.value);if(n.toString()===r.value){let a=this.initialColor.toRgb();a.g=n;let f=(0,C.default)(a).toHsv();x(this.cid,f.h,f.s,f.v)}}onBlueChange(i){let r=i.target,n=B(r.value);if(n.toString()===r.value){let a=this.initialColor.toRgb();a.b=n;let f=(0,C.default)(a).toHsv();x(this.cid,f.h,f.s,f.v)}}onAlphaChange(i){let r=i.target,n=dt(r.value);n.toString()===r.value&&U(this.cid,n/100)}connectedCallback(){this.cid=this.getAttribute("cid"),this.initialColor=(0,C.default)(this.getAttribute("color")||"#000");let i=this.initialColor.toRgb();this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.hex=this.initialColor.toHex();let r=S(),n=S(),a=S(),f=S(),_=S();this.shadowRoot.innerHTML=`
           <style>${vt}</style>
           <div class="color-picker__fields">
               <input id="hex-${r}" type="text" value="${this.hex.toUpperCase()}" />
               <input id="r-${n}" type="text" value="${this.r}" />
               <input id="g-${a}" type="text" value="${this.g}" />
               <input id="b-${f}" type="text" value="${this.b}" />
               <input id="a-${_}" type="text" value="${Math.round(this.a*100)}" />
               
               <label for="hex-${r}">Hex</label>
               <label for="r-${n}">R</label>
               <label for="g-${a}">G</label>
               <label for="b-${f}">B</label>
               <label for="a-${_}">A</label>
           </div>
        `,this.$fields=this.shadowRoot.querySelector(".color-picker__fields"),this.$hex=this.shadowRoot.getElementById(`hex-${r}`),this.$r=this.shadowRoot.getElementById(`r-${n}`),this.$g=this.shadowRoot.getElementById(`g-${a}`),this.$b=this.shadowRoot.getElementById(`b-${f}`),this.$a=this.shadowRoot.getElementById(`a-${_}`),document.addEventListener(E,this.colorHsvChangedCustomEvent),document.addEventListener($,this.colorHueChangedCustomEvent),document.addEventListener(M,this.colorAlphaChangedCustomEvent),this.$hex.addEventListener("input",this.onHexChange),this.$r.addEventListener("input",this.onRedChange),this.$g.addEventListener("input",this.onGreenChange),this.$b.addEventListener("input",this.onBlueChange),this.$a.addEventListener("input",this.onAlphaChange),this.$hex.addEventListener("blur",this.performUpdate),this.$r.addEventListener("blur",this.performUpdate),this.$g.addEventListener("blur",this.performUpdate),this.$b.addEventListener("blur",this.performUpdate),this.$a.addEventListener("blur",this.performUpdate),this.$r.addEventListener("keydown",this.onRedKeyDown),this.$g.addEventListener("keydown",this.onGreenKeyDown),this.$b.addEventListener("keydown",this.onBlueKeyDown),this.$a.addEventListener("keydown",this.onAlphaKeyDown)}disconnectedCallback(){document.removeEventListener(E,this.colorHsvChangedCustomEvent),document.removeEventListener($,this.colorHueChangedCustomEvent),document.removeEventListener(M,this.colorAlphaChangedCustomEvent),this.$hex.removeEventListener("input",this.onHexChange),this.$r.removeEventListener("input",this.onRedChange),this.$g.removeEventListener("input",this.onGreenChange),this.$b.removeEventListener("input",this.onBlueChange),this.$a.removeEventListener("input",this.onAlphaChange),this.$hex.removeEventListener("blur",this.performUpdate),this.$r.removeEventListener("blur",this.performUpdate),this.$g.removeEventListener("blur",this.performUpdate),this.$b.removeEventListener("blur",this.performUpdate),this.$a.removeEventListener("blur",this.performUpdate),this.$r.removeEventListener("keydown",this.onRedKeyDown),this.$g.removeEventListener("keydown",this.onGreenKeyDown),this.$b.removeEventListener("keydown",this.onBlueKeyDown),this.$a.removeEventListener("keydown",this.onAlphaKeyDown)}attributeChangedCallback(){this.initialColor=(0,C.default)(this.getAttribute("color")||"#000"),this.performUpdate()}},Ct=J;var Z=class extends HTMLElement{constructor(){super();p(this,"cid");p(this,"$popup");p(this,"initialColor","#000");customElements.get("toolcool-color-picker-saturation")||customElements.define("toolcool-color-picker-saturation",pt),customElements.get("toolcool-color-picker-hue")||customElements.define("toolcool-color-picker-hue",gt),customElements.get("toolcool-color-picker-alpha")||customElements.define("toolcool-color-picker-alpha",bt),customElements.get("toolcool-color-picker-fields")||customElements.define("toolcool-color-picker-fields",Ct),this.cid=this.getAttribute("cid"),this.prevent=this.prevent.bind(this),this.attachShadow({mode:"open"})}prevent(i){i.preventDefault(),i.stopPropagation()}connectedCallback(){this.initialColor=this.getAttribute("color")||"#000",this.shadowRoot.innerHTML=`
           <style>${lt}</style>
           <div class="color-picker__popup">
                <toolcool-color-picker-saturation color="${this.initialColor}" cid="${this.cid}"></toolcool-color-picker-saturation>
                <toolcool-color-picker-hue color="${this.initialColor}" cid="${this.cid}"></toolcool-color-picker-hue>
                <toolcool-color-picker-alpha color="${this.initialColor}" cid="${this.cid}"></toolcool-color-picker-alpha>
                <toolcool-color-picker-fields color="${this.initialColor}" cid="${this.cid}"></toolcool-color-picker-fields>
           </div>
        `,this.$popup=this.shadowRoot.querySelector(".color-picker__popup"),this.$popup.addEventListener("click",this.prevent)}disconnectedCallback(){this.$popup.removeEventListener("click",this.prevent)}attributeChangedCallback(){this.initialColor=this.getAttribute("color")||"#000";let i=this.shadowRoot.querySelector("toolcool-color-picker-saturation"),r=this.shadowRoot.querySelector("toolcool-color-picker-hue"),n=this.shadowRoot.querySelector("toolcool-color-picker-alpha"),a=this.shadowRoot.querySelector("toolcool-color-picker-fields");i&&i.setAttribute("color",this.initialColor),r&&r.setAttribute("color",this.initialColor),n&&n.setAttribute("color",this.initialColor),a&&a.setAttribute("color",this.initialColor)}},Et=Z;var tt=class extends HTMLElement{constructor(){super();p(this,"cid");p(this,"$button");p(this,"$buttonColor");p(this,"$popupBox");p(this,"stateDefaults",{isPopupVisible:!1,initialColor:(0,L.default)("#000"),color:(0,L.default)("#000")});p(this,"state");this.cid=S(),customElements.get("toolcool-color-picker-popup")||customElements.define("toolcool-color-picker-popup",Et),this.attachShadow({mode:"open"}),this.toggle=this.toggle.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.clickedOutside=this.clickedOutside.bind(this),this.colorHsvChangedCustomEvent=this.colorHsvChangedCustomEvent.bind(this),this.colorHueChangedCustomEvent=this.colorHueChangedCustomEvent.bind(this),this.colorAlphaChangedCustomEvent=this.colorAlphaChangedCustomEvent.bind(this),this.initState()}get value(){let i=this.state.color.toRgb();return`rgba(${i.r}, ${i.g}, ${i.b}, ${i.a})`}set value(i){this.state.color=(0,L.default)(i)}get opened(){return this.state.isPopupVisible}set opened(i){this.state.isPopupVisible=i}initState(){let i=this;this.state=new Proxy(i.stateDefaults,{set(r,n,a,f){return r[n]=a,n==="isPopupVisible"&&i.onPopupVisibilityChange(),n==="initialColor"&&i.onInitialColorChange(),n==="color"&&i.onColorChange(),!0}})}onPopupVisibilityChange(){if(!this.$popupBox)return!0;this.$popupBox.innerHTML=this.state.isPopupVisible?`<toolcool-color-picker-popup color="${this.state.color.toHexString()}" cid="${this.cid}" />`:""}onInitialColorChange(){let i=this.state.color.toRgb(),r=`rgba(${i.r}, ${i.g}, ${i.b}, ${i.a})`;this.$buttonColor&&(this.$buttonColor.style.backgroundColor=r);let n=this.shadowRoot.querySelector("toolcool-color-picker-popup");n&&n.setAttribute("color",r)}onColorChange(){let i=this.state.color.toRgb(),r=`rgba(${i.r}, ${i.g}, ${i.b}, ${i.a})`;this.$buttonColor&&(this.$buttonColor.style.backgroundColor=r),this.dispatchEvent(new CustomEvent("change",{detail:{value:r}}))}colorHsvChangedCustomEvent(i){!i||!i.detail||!i.detail.cid||i.detail.cid===this.cid&&(this.state.color=L.default.fromRatio({h:i.detail.h,s:i.detail.s,v:i.detail.v,a:this.state.color.toHsv().a}))}colorHueChangedCustomEvent(i){if(!i||!i.detail||!i.detail.cid||i.detail.cid!==this.cid)return;let r=this.state.color.toHsv();this.state.color=L.default.fromRatio({h:i.detail.h,s:r.s,v:r.v,a:r.a})}colorAlphaChangedCustomEvent(i){if(!i||!i.detail||!i.detail.cid||i.detail.cid!==this.cid)return;let r=this.state.color.toRgb();r.a=i.detail.a,this.state.color=(0,L.default)(r)}clickedOutside(){this.state.isPopupVisible=!1}toggle(i){let r=this.state.isPopupVisible;window.setTimeout(()=>{this.state.isPopupVisible=!r},0)}onKeyDown(i){i.key==="Escape"&&(this.state.isPopupVisible=!1)}connectedCallback(){this.state.initialColor=(0,L.default)(this.getAttribute("color")||"#000"),this.state.color=(0,L.default)(this.getAttribute("color")||"#000");let i=this.state.color.toRgb();this.shadowRoot.innerHTML=`
            <style>${ht}</style>
            <div class="color-picker">
                <button
                    type="button"
                    tabIndex="0"
                    class="color-picker__button"
                    title="Select Color">
                    <span class="color-picker__button-color" style="background-color: rgba(${i.r}, ${i.g}, ${i.b}, ${i.a})"></span>
                </button>
                <div data-popup-box></div>
            </div>
        `,this.$button=this.shadowRoot.querySelector(".color-picker__button"),this.$buttonColor=this.shadowRoot.querySelector(".color-picker__button-color"),this.$button.addEventListener("click",this.toggle),this.$button.addEventListener("keydown",this.onKeyDown),this.$popupBox=this.shadowRoot.querySelector("[data-popup-box]"),document.addEventListener("click",this.clickedOutside),document.addEventListener(E,this.colorHsvChangedCustomEvent),document.addEventListener($,this.colorHueChangedCustomEvent),document.addEventListener(M,this.colorAlphaChangedCustomEvent)}disconnectedCallback(){this.$button.removeEventListener("click",this.toggle),this.$button.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("click",this.clickedOutside),document.removeEventListener(E,this.colorHsvChangedCustomEvent),document.removeEventListener($,this.colorHueChangedCustomEvent),document.removeEventListener(M,this.colorAlphaChangedCustomEvent)}attributeChangedCallback(){this.state.initialColor=(0,L.default)(this.getAttribute("color")||"#000"),this.state.color=(0,L.default)(this.getAttribute("color")||"#000"),this.onInitialColorChange()}},_t=tt;customElements.get("toolcool-color-picker")||customElements.define("toolcool-color-picker",_t);})();
//# sourceMappingURL=toolcool-color-picker.min.js.map
